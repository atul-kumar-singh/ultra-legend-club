/*! React InstantSearch 5.2.2 | Â© Algolia, inc. | https://community.algolia.com/react-instantsearch */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e.ReactInstantSearch=e.ReactInstantSearch||{},e.ReactInstantSearch.Connectors={}),e.React)}(this,function(e,v){"use strict";var m="default"in v?v.default:v,t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}var i=r,a=n;function o(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}"function"==typeof t.setTimeout&&(i=setTimeout),"function"==typeof t.clearTimeout&&(a=clearTimeout);var s,c=[],u=!1,f=-1;function l(){u&&s&&(u=!1,s.length?c=s.concat(c):f=-1,c.length&&h())}function h(){if(!u){var e=o(l);u=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,u=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===n||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}d.prototype.run=function(){this.fun.apply(null,this.array)};function p(){}var g=p,y=p,b=p,R=p,x=p,F=p,_=p;var j=t.performance||{},P=j.now||j.mozNow||j.msNow||j.oNow||j.webkitNow||function(){return(new Date).getTime()};var w=new Date;var O={nextTick:function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||u||o(h)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:g,addListener:y,once:b,off:R,removeListener:x,removeAllListeners:F,emit:_,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*P.call(j),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-w)/1e3}},E="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(e,t){return e(t={exports:{}},t.exports),t.exports}function T(e){return function(){return e}}var N=function(){};N.thatReturns=T,N.thatReturnsFalse=T(!1),N.thatReturnsTrue=T(!0),N.thatReturnsNull=T(null),N.thatReturnsThis=function(){return this},N.thatReturnsArgument=function(e){return e};var A=N;var C=function(e,t,r,n,i,a,o,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,a,o,s],f=0;(c=new Error(t.replace(/%s/g,function(){return u[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},I=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}})()&&Object.assign;var M=S(function(e){e.exports=function(){function e(e,t,r,n,i,a){"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a&&C(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}var r={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=A,r.PropTypes=r}()});var D=function(){this.__data__=[],this.size=0};var L=function(e,t){return e===t||e!=e&&t!=t};var B=function(e,t){for(var r=e.length;r--;)if(L(e[r][0],t))return r;return-1},k=Array.prototype.splice;var U=function(e){var t=this.__data__,r=B(t,e);return!(r<0||(r==t.length-1?t.pop():k.call(t,r,1),--this.size,0))};var V=function(e){var t=this.__data__,r=B(t,e);return r<0?void 0:t[r][1]};var q=function(e){return-1<B(this.__data__,e)};var W=function(e,t){var r=this.__data__,n=B(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}z.prototype.clear=D,z.prototype.delete=U,z.prototype.get=V,z.prototype.has=q,z.prototype.set=W;var $=z;var J=function(){this.__data__=new $,this.size=0};var Y=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var G=function(e){return this.__data__.get(e)};var K=function(e){return this.__data__.has(e)},Z="object"==typeof E&&E&&E.Object===Object&&E,X="object"==typeof self&&self&&self.Object===Object&&self,ee=Z||X||Function("return this")(),te=ee.Symbol,re=Object.prototype,ne=re.hasOwnProperty,ie=re.toString,ae=te?te.toStringTag:void 0;var oe=function(e){var t=ne.call(e,ae),r=e[ae];try{e[ae]=void 0}catch(e){}var n=ie.call(e);return t?e[ae]=r:delete e[ae],n},se=Object.prototype.toString;var ce=function(e){return se.call(e)},ue=te?te.toStringTag:void 0;var fe=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ue&&ue in Object(e)?oe(e):ce(e)};var le=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var he,de=function(e){if(!le(e))return!1;var t=fe(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},pe=ee["__core-js_shared__"],ve=(he=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||""))?"Symbol(src)_1."+he:"";var me=function(e){return!!ve&&ve in e},ge=Function.prototype.toString;var ye=function(e){if(null!=e){try{return ge.call(e)}catch(e){}try{return e+""}catch(e){}}return""},be=/^\[object .+?Constructor\]$/,Re=Function.prototype,xe=Object.prototype,Fe=Re.toString,_e=xe.hasOwnProperty,je=RegExp("^"+Fe.call(_e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Pe=function(e){return!(!le(e)||me(e))&&(de(e)?je:be).test(ye(e))};var we=function(e,t){return null==e?void 0:e[t]};var Se=function(e,t){var r=we(e,t);return Pe(r)?r:void 0},Oe=Se(ee,"Map"),Ee=Se(Object,"create");var Te=function(){this.__data__=Ee?Ee(null):{},this.size=0};var Ne=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ae=Object.prototype.hasOwnProperty;var Ce=function(e){var t=this.__data__;if(Ee){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Ae.call(t,e)?t[e]:void 0},Ie=Object.prototype.hasOwnProperty;var He=function(e){var t=this.__data__;return Ee?void 0!==t[e]:Ie.call(t,e)};var Qe=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ee&&void 0===t?"__lodash_hash_undefined__":t,this};function Me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Me.prototype.clear=Te,Me.prototype.delete=Ne,Me.prototype.get=Ce,Me.prototype.has=He,Me.prototype.set=Qe;var De=Me;var Le=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Be=function(e,t){var r=e.__data__;return Le(t)?r["string"==typeof t?"string":"hash"]:r.map};var ke=function(e){var t=Be(this,e).delete(e);return this.size-=t?1:0,t};var Ue=function(e){return Be(this,e).get(e)};var Ve=function(e){return Be(this,e).has(e)};var qe=function(e,t){var r=Be(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function We(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}We.prototype.clear=function(){this.size=0,this.__data__={hash:new De,map:new(Oe||$),string:new De}},We.prototype.delete=ke,We.prototype.get=Ue,We.prototype.has=Ve,We.prototype.set=qe;var ze=We;var $e=function(e,t){var r=this.__data__;if(r instanceof $){var n=r.__data__;if(!Oe||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ze(n)}return r.set(e,t),this.size=r.size,this};function Je(e){var t=this.__data__=new $(e);this.size=t.size}Je.prototype.clear=J,Je.prototype.delete=Y,Je.prototype.get=G,Je.prototype.has=K,Je.prototype.set=$e;var Ye=Je;var Ge=function(e){return this.__data__.has(e)};function Ke(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ze;++t<r;)this.add(e[t])}Ke.prototype.add=Ke.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ke.prototype.has=Ge;var Ze=Ke;var Xe=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var et=function(e,t){return e.has(t)};var tt=function(e,t,r,n,i,a){var o=1&r,s=e.length,c=t.length;if(s!=c&&!(o&&s<c))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var f=-1,l=!0,h=2&r?new Ze:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var d=e[f],p=t[f];if(n)var v=o?n(p,d,f,t,e,a):n(d,p,f,e,t,a);if(void 0!==v){if(v)continue;l=!1;break}if(h){if(!Xe(t,function(e,t){if(!et(h,t)&&(d===e||i(d,e,r,n,a)))return h.push(t)})){l=!1;break}}else if(d!==p&&!i(d,p,r,n,a)){l=!1;break}}return a.delete(e),a.delete(t),l},rt=ee.Uint8Array;var nt=function(e){var r=-1,n=Array(e.size);return e.forEach(function(e,t){n[++r]=[t,e]}),n};var it=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r},at=te?te.prototype:void 0,ot=at?at.valueOf:void 0;var st=function(e,t,r,n,i,a,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new rt(e),new rt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return L(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=nt;case"[object Set]":var c=1&n;if(s||(s=it),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=2,o.set(e,t);var f=tt(s(e),s(t),n,i,a,o);return o.delete(e),f;case"[object Symbol]":if(ot)return ot.call(e)==ot.call(t)}return!1};var ct=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},ut=Array.isArray;var ft=function(e,t,r){var n=t(e);return ut(e)?n:ct(n,r(e))};var lt=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a};var ht=function(){return[]},dt=Object.prototype.propertyIsEnumerable,pt=Object.getOwnPropertySymbols,vt=pt?function(t){return null==t?[]:(t=Object(t),lt(pt(t),function(e){return dt.call(t,e)}))}:ht;var mt=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var gt=function(e){return null!=e&&"object"==typeof e};var yt=function(e){return gt(e)&&"[object Arguments]"==fe(e)},bt=Object.prototype,Rt=bt.hasOwnProperty,xt=bt.propertyIsEnumerable,Ft=yt(function(){return arguments}())?yt:function(e){return gt(e)&&Rt.call(e,"callee")&&!xt.call(e,"callee")};var _t=function(){return!1},jt=S(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?ee.Buffer:void 0,a=(i?i.isBuffer:void 0)||_t;e.exports=a}),Pt=/^(?:0|[1-9]\d*)$/;var wt=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Pt.test(e))&&-1<e&&e%1==0&&e<t};var St=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},Ot={};Ot["[object Float32Array]"]=Ot["[object Float64Array]"]=Ot["[object Int8Array]"]=Ot["[object Int16Array]"]=Ot["[object Int32Array]"]=Ot["[object Uint8Array]"]=Ot["[object Uint8ClampedArray]"]=Ot["[object Uint16Array]"]=Ot["[object Uint32Array]"]=!0,Ot["[object Arguments]"]=Ot["[object Array]"]=Ot["[object ArrayBuffer]"]=Ot["[object Boolean]"]=Ot["[object DataView]"]=Ot["[object Date]"]=Ot["[object Error]"]=Ot["[object Function]"]=Ot["[object Map]"]=Ot["[object Number]"]=Ot["[object Object]"]=Ot["[object RegExp]"]=Ot["[object Set]"]=Ot["[object String]"]=Ot["[object WeakMap]"]=!1;var Et=function(e){return gt(e)&&St(e.length)&&!!Ot[fe(e)]};var Tt=function(t){return function(e){return t(e)}},Nt=S(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r&&Z.process,a=function(){try{return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a}),At=Nt&&Nt.isTypedArray,Ct=At?Tt(At):Et,It=Object.prototype.hasOwnProperty;var Ht=function(e,t){var r=ut(e),n=!r&&Ft(e),i=!r&&!n&&jt(e),a=!r&&!n&&!i&&Ct(e),o=r||n||i||a,s=o?mt(e.length,String):[],c=s.length;for(var u in e)!t&&!It.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||wt(u,c))||s.push(u);return s},Qt=Object.prototype;var Mt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Qt)};var Dt=function(t,r){return function(e){return t(r(e))}},Lt=Dt(Object.keys,Object),Bt=Object.prototype.hasOwnProperty;var kt=function(e){if(!Mt(e))return Lt(e);var t=[];for(var r in Object(e))Bt.call(e,r)&&"constructor"!=r&&t.push(r);return t};var Ut=function(e){return null!=e&&St(e.length)&&!de(e)};var Vt=function(e){return Ut(e)?Ht(e):kt(e)};var qt=function(e){return ft(e,Vt,vt)},Wt=Object.prototype.hasOwnProperty;var zt=function(e,t,r,n,i,a){var o=1&r,s=qt(e),c=s.length;if(c!=qt(t).length&&!o)return!1;for(var u=c;u--;){var f=s[u];if(!(o?f in t:Wt.call(t,f)))return!1}var l=a.get(e);if(l&&a.get(t))return l==t;var h=!0;a.set(e,t),a.set(t,e);for(var d=o;++u<c;){var p=e[f=s[u]],v=t[f];if(n)var m=o?n(v,p,f,t,e,a):n(p,v,f,e,t,a);if(!(void 0===m?p===v||i(p,v,r,n,a):m)){h=!1;break}d||(d="constructor"==f)}if(h&&!d){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return a.delete(e),a.delete(t),h},$t=Se(ee,"DataView"),Jt=Se(ee,"Promise"),Yt=Se(ee,"Set"),Gt=Se(ee,"WeakMap"),Kt="[object Map]",Zt="[object Promise]",Xt="[object Set]",er="[object WeakMap]",tr="[object DataView]",rr=ye($t),nr=ye(Oe),ir=ye(Jt),ar=ye(Yt),or=ye(Gt),sr=fe;($t&&sr(new $t(new ArrayBuffer(1)))!=tr||Oe&&sr(new Oe)!=Kt||Jt&&sr(Jt.resolve())!=Zt||Yt&&sr(new Yt)!=Xt||Gt&&sr(new Gt)!=er)&&(sr=function(e){var t=fe(e),r="[object Object]"==t?e.constructor:void 0,n=r?ye(r):"";if(n)switch(n){case rr:return tr;case nr:return Kt;case ir:return Zt;case ar:return Xt;case or:return er}return t});var cr=sr,ur="[object Arguments]",fr="[object Array]",lr="[object Object]",hr=Object.prototype.hasOwnProperty;var dr=function(e,t,r,n,i,a){var o=ut(e),s=ut(t),c=o?fr:cr(e),u=s?fr:cr(t),f=(c=c==ur?lr:c)==lr,l=(u=u==ur?lr:u)==lr,h=c==u;if(h&&jt(e)){if(!jt(t))return!1;f=!(o=!0)}if(h&&!f)return a||(a=new Ye),o||Ct(e)?tt(e,t,r,n,i,a):st(e,t,c,r,n,i,a);if(!(1&r)){var d=f&&hr.call(e,"__wrapped__"),p=l&&hr.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;return a||(a=new Ye),i(v,m,r,n,a)}}return!!h&&(a||(a=new Ye),zt(e,t,r,n,i,a))};var pr=function e(t,r,n,i,a){return t===r||(null==t||null==r||!gt(t)&&!gt(r)?t!=t&&r!=r:dr(t,r,n,i,e,a))};var vr=function(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=r[i])[0],u=e[c],f=s[1];if(o&&s[2]){if(void 0===u&&!(c in e))return!1}else{var l=new Ye;if(n)var h=n(u,f,c,e,t,l);if(!(void 0===h?pr(f,u,3,n,l):h))return!1}}return!0};var mr=function(e){return e==e&&!le(e)};var gr=function(e){for(var t=Vt(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,mr(i)]}return t};var yr=function(t,r){return function(e){return null!=e&&e[t]===r&&(void 0!==r||t in Object(e))}};var br=function(t){var r=gr(t);return 1==r.length&&r[0][2]?yr(r[0][0],r[0][1]):function(e){return e===t||vr(e,t,r)}};var Rr=function(e){return"symbol"==typeof e||gt(e)&&"[object Symbol]"==fe(e)},xr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fr=/^\w*$/;var _r=function(e,t){if(ut(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Rr(e))||Fr.test(e)||!xr.test(e)||null!=t&&e in Object(t)},jr="Expected a function";function Pr(i,a){if("function"!=typeof i||null!=a&&"function"!=typeof a)throw new TypeError(jr);var o=function(){var e=arguments,t=a?a.apply(this,e):e[0],r=o.cache;if(r.has(t))return r.get(t);var n=i.apply(this,e);return o.cache=r.set(t,n)||r,n};return o.cache=new(Pr.Cache||ze),o}Pr.Cache=ze;var wr=Pr;var Sr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Or=/\\(\\)?/g,Er=function(e){var t=wr(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(Sr,function(e,t,r,n){i.push(r?n.replace(Or,"$1"):t||e)}),i});var Tr=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},Nr=1/0,Ar=te?te.prototype:void 0,Cr=Ar?Ar.toString:void 0;var Ir=function e(t){if("string"==typeof t)return t;if(ut(t))return Tr(t,e)+"";if(Rr(t))return Cr?Cr.call(t):"";var r=t+"";return"0"==r&&1/t==-Nr?"-0":r};var Hr=function(e){return null==e?"":Ir(e)};var Qr=function(e,t){return ut(e)?e:_r(e,t)?[e]:Er(Hr(e))};var Mr=function(e){if("string"==typeof e||Rr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Dr=function(e,t){for(var r=0,n=(t=Qr(t,e)).length;null!=e&&r<n;)e=e[Mr(t[r++])];return r&&r==n?e:void 0};var Lr=function(e,t,r){var n=null==e?void 0:Dr(e,t);return void 0===n?r:n};var Br=function(e,t){return null!=e&&t in Object(e)};var kr=function(e,t,r){for(var n=-1,i=(t=Qr(t,e)).length,a=!1;++n<i;){var o=Mr(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&St(i)&&wt(o,i)&&(ut(e)||Ft(e))};var Ur=function(e,t){return null!=e&&kr(e,t,Br)};var Vr=function(r,n){return _r(r)&&mr(n)?yr(Mr(r),n):function(e){var t=Lr(e,r);return void 0===t&&t===n?Ur(e,r):pr(n,t,3)}};var qr=function(e){return e};var Wr=function(t){return function(e){return null==e?void 0:e[t]}};var zr=function(t){return function(e){return Dr(e,t)}};var $r=function(e){return _r(e)?Wr(Mr(e)):zr(e)};var Jr=function(e){return"function"==typeof e?e:null==e?qr:"object"==typeof e?ut(e)?Vr(e[0],e[1]):br(e):$r(e)};var Yr=function(o){return function(e,t,r){var n=Object(e);if(!Ut(e)){var i=Jr(t,3);e=Vt(e),t=function(e){return i(n[e],e,n)}}var a=o(e,t,r);return-1<a?n[i?e[a]:a]:void 0}};var Gr=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1},Kr=/^\s+|\s+$/g,Zr=/^[-+]0x[0-9a-f]+$/i,Xr=/^0b[01]+$/i,en=/^0o[0-7]+$/i,tn=parseInt;var rn=function(e){if("number"==typeof e)return e;if(Rr(e))return NaN;if(le(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=le(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Kr,"");var r=Xr.test(e);return r||en.test(e)?tn(e.slice(2),r?2:8):Zr.test(e)?NaN:+e};var nn=function(e){return e?(e=rn(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var an=function(e){var t=nn(e),r=t%1;return t==t?r?t-r:t:0},on=Math.max;var sn=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:an(r);return i<0&&(i=on(n+i,0)),Gr(e,Jr(t,3),i)},cn=Yr(sn),un=Object.prototype.hasOwnProperty;var fn=function(e){if(null==e)return!0;if(Ut(e)&&(ut(e)||"string"==typeof e||"function"==typeof e.splice||jt(e)||Ct(e)||Ft(e)))return!e.length;var t=cr(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Mt(e))return!kt(e).length;for(var r in e)if(un.call(e,r))return!1;return!0};var ln=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},hn=function(){try{var e=Se(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var dn=function(e,t,r){"__proto__"==t&&hn?hn(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},pn=Object.prototype.hasOwnProperty;var vn=function(e,t,r){var n=e[t];pn.call(e,t)&&L(n,r)&&(void 0!==r||t in e)||dn(e,t,r)};var mn=function(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),i?dn(r,s,c):vn(r,s,c)}return r};var gn=function(e,t){return e&&mn(t,Vt(t),e)};var yn=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},bn=Object.prototype.hasOwnProperty;var Rn=function(e){if(!le(e))return yn(e);var t=Mt(e),r=[];for(var n in e)("constructor"!=n||!t&&bn.call(e,n))&&r.push(n);return r};var xn=function(e){return Ut(e)?Ht(e,!0):Rn(e)};var Fn=function(e,t){return e&&mn(t,xn(t),e)},_n=S(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?ee.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}});var jn=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t};var Pn=function(e,t){return mn(e,vt(e),t)},wn=Dt(Object.getPrototypeOf,Object),Sn=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ct(t,vt(e)),e=wn(e);return t}:ht;var On=function(e,t){return mn(e,Sn(e),t)};var En=function(e){return ft(e,xn,Sn)},Tn=Object.prototype.hasOwnProperty;var Nn=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Tn.call(e,"index")&&(r.index=e.index,r.input=e.input),r};var An=function(e){var t=new e.constructor(e.byteLength);return new rt(t).set(new rt(e)),t};var Cn=te?te.prototype:void 0;Cn&&Cn.valueOf;var In=function(e,t){var r=t?An(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var Hn=Object.create,Qn=function(){function r(){}return function(e){if(!le(e))return{};if(Hn)return Hn(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}();var Mn=function(e){return"function"!=typeof e.constructor||Mt(e)?{}:Qn(wn(e))};var Dn=function(e){return gt(e)&&"[object Map]"==cr(e)},Ln=Nt&&Nt.isMap,Bn=Ln?Tt(Ln):Dn;var kn=function(e){return gt(e)&&"[object Set]"==cr(e)},Un=Nt&&Nt.isSet,Vn=Un?Tt(Un):kn,qn=1,Wn=2,zn=4,$n="[object Arguments]",Jn="[object Function]",Yn="[object GeneratorFunction]",Gn="[object Object]";var Kn=function r(n,i,a,e,t,o){var s,c=i&qn,u=i&Wn,f=i&zn;if(a&&(s=t?a(n,e,t,o):a(n)),void 0!==s)return s;if(!le(n))return n;var l=ut(n);if(l){if(s=Nn(n),!c)return jn(n,s)}else{var h=cr(n),d=h==Jn||h==Yn;if(jt(n))return _n(n,c);if(h!=Gn&&h!=$n&&(!d||t))return t?n:{};if(s=u||d?{}:Mn(n),!c)return u?On(n,Fn(s,n)):Pn(n,gn(s,n))}o||(o=new Ye);var p=o.get(n);if(p)return p;if(o.set(n,s),Vn(n))return n.forEach(function(e){s.add(r(e,i,a,e,n,o))}),s;if(Bn(n))return n.forEach(function(e,t){s.set(t,r(e,i,a,t,n,o))}),s;var v=f?u?En:qt:u?keysIn:Vt,m=l?void 0:v(n);return ln(m||n,function(e,t){m&&(e=n[t=e]),vn(s,t,r(e,i,a,t,n,o))}),s};var Zn=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Xn=function(e,t,r){var n=-1,i=e.length;t<0&&(t=i<-t?0:i+t),(r=i<r?i:r)<0&&(r+=i),i=r<t?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a};var ei=function(e,t){return t.length<2?e:Dr(e,Xn(t,0,-1))};var ti=function(e,t){return t=Qr(t,e),null==(e=ei(e,t))||delete e[Mr(Zn(t))]},ri=Function.prototype,ni=Object.prototype,ii=ri.toString,ai=ni.hasOwnProperty,oi=ii.call(Object);var si=function(e){if(!gt(e)||"[object Object]"!=fe(e))return!1;var t=wn(e);if(null===t)return!0;var r=ai.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ii.call(r)==oi};var ci=function(e){return si(e)?void 0:e},ui=te?te.isConcatSpreadable:void 0;var fi=function(e){return ut(e)||Ft(e)||!!(ui&&e&&e[ui])};var li=function e(t,r,n,i,a){var o=-1,s=t.length;for(n||(n=fi),a||(a=[]);++o<s;){var c=t[o];0<r&&n(c)?1<r?e(c,r-1,n,i,a):ct(a,c):i||(a[a.length]=c)}return a};var hi=function(e){return null!=e&&e.length?li(e,1):[]};var di=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},pi=Math.max;var vi=function(a,o,s){return o=pi(void 0===o?a.length-1:o,0),function(){for(var e=arguments,t=-1,r=pi(e.length-o,0),n=Array(r);++t<r;)n[t]=e[o+t];t=-1;for(var i=Array(o+1);++t<o;)i[t]=e[t];return i[o]=s(n),di(a,this,i)}};var mi=function(e){return function(){return e}},gi=hn?function(e,t){return hn(e,"toString",{configurable:!0,enumerable:!1,value:mi(t),writable:!0})}:qr,yi=Date.now;var bi=function(r){var n=0,i=0;return function(){var e=yi(),t=16-(e-i);if(i=e,0<t){if(800<=++n)return arguments[0]}else n=0;return r.apply(void 0,arguments)}},Ri=bi(gi);var xi=function(e){return Ri(vi(e,void 0,hi),e+"")},Fi=xi(function(t,e){var r={};if(null==t)return r;var n=!1;e=Tr(e,function(e){return e=Qr(e,t),n||(n=1<e.length),e}),mn(t,En(t),r),n&&(r=Kn(r,7,ci));for(var i=e.length;i--;)ti(r,e[i]);return r});var _i=function(e){return e!=e};var ji=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1};var Pi=function(e,t,r){return t==t?ji(e,t,r):Gr(e,_i,r)};var wi=function(e,t){return!(null==e||!e.length)&&-1<Pi(e,t,0)};var Si=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1},Oi=Math.min;var Ei=function(e,t,r){for(var n=r?Si:wi,i=e[0].length,a=e.length,o=a,s=Array(a),c=1/0,u=[];o--;){var f=e[o];o&&t&&(f=Tr(f,Tt(t))),c=Oi(f.length,c),s[o]=!r&&(t||120<=i&&120<=f.length)?new Ze(o&&f):void 0}f=e[0];var l=-1,h=s[0];e:for(;++l<i&&u.length<c;){var d=f[l],p=t?t(d):d;if(d=r||0!==d?d:0,!(h?et(h,p):n(u,p,r))){for(o=a;--o;){var v=s[o];if(!(v?et(v,p):n(e[o],p,r)))continue e}h&&h.push(p),u.push(d)}}return u};var Ti=function(e,t){return Ri(vi(e,t,qr),e+"")};var Ni=function(e){return gt(e)&&Ut(e)};var Ai=function(e){return Ni(e)?e:[]},Ci=Ti(function(e){var t=Tr(e,Ai);return t.length&&t[0]===e[0]?Ei(t):[]});var Ii=function(c){return function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[c?o:++n];if(!1===t(i[s],s,i))break}return e}}();var Hi=function(e,t){return e&&Ii(e,t,Vt)};var Qi=function(e){return"function"==typeof e?e:qr};var Mi=function(e,t){return e&&Hi(e,Qi(t))};var Di=function(a,o){return function(e,t){if(null==e)return e;if(!Ut(e))return a(e,t);for(var r=e.length,n=o?r:-1,i=Object(e);(o?n--:++n<r)&&!1!==t(i[n],n,i););return e}}(Hi);var Li=function(e,t){return(ut(e)?ln:Di)(e,Qi(t))};var Bi=function(e,n){var i=[];return Di(e,function(e,t,r){n(e,t,r)&&i.push(e)}),i};var ki=function(e,t){return(ut(e)?lt:Bi)(e,Jr(t,3))};var Ui=function(e,n){var i=-1,a=Ut(e)?Array(e.length):[];return Di(e,function(e,t,r){a[++i]=n(e,t,r)}),a};var Vi=function(e,t){return(ut(e)?Tr:Ui)(e,Jr(t,3))};var qi=function(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r};var Wi=function(e,n,i,a,t){return t(e,function(e,t,r){i=a?(a=!1,e):n(i,e,t,r)}),i};var zi=function(e,t,r){var n=ut(e)?qi:Wi,i=arguments.length<3;return n(e,Jr(t,4),r,i,Di)},$i=Math.max;var Ji=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:an(r);return i<0&&(i=$i(n+i,0)),Pi(e,t,i)};var Yi=function(e){return"number"==typeof e||gt(e)&&"[object Number]"==fe(e)};var Gi=function(e){return Yi(e)&&e!=+e};var Ki=function(e,t){return pr(e,t)};var Zi=function(e){return void 0===e};var Xi=function(e){return"string"==typeof e||!ut(e)&&gt(e)&&"[object String]"==fe(e)};var ea=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&n<=r?e:Xn(e,t,r)};var ta=function(e,t){for(var r=e.length;r--&&-1<Pi(t,e[r],0););return r};var ra=function(e,t){for(var r=-1,n=e.length;++r<n&&-1<Pi(t,e[r],0););return r};var na=function(e){return e.split("")},ia=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var aa=function(e){return ia.test(e)},oa="\\ud800-\\udfff",sa="["+oa+"]",ca="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ua="\\ud83c[\\udffb-\\udfff]",fa="[^"+oa+"]",la="(?:\\ud83c[\\udde6-\\uddff]){2}",ha="[\\ud800-\\udbff][\\udc00-\\udfff]",da="(?:"+ca+"|"+ua+")"+"?",pa="[\\ufe0e\\ufe0f]?",va=pa+da+("(?:\\u200d(?:"+[fa,la,ha].join("|")+")"+pa+da+")*"),ma="(?:"+[fa+ca+"?",ca,la,ha,sa].join("|")+")",ga=RegExp(ua+"(?="+ua+")|"+ma+va,"g");var ya=function(e){return e.match(ga)||[]};var ba=function(e){return aa(e)?ya(e):na(e)},Ra=/^\s+|\s+$/g;var xa=function(e,t,r){if((e=Hr(e))&&(r||void 0===t))return e.replace(Ra,"");if(!e||!(t=Ir(t)))return e;var n=ba(e),i=ba(t),a=ra(n,i),o=ta(n,i)+1;return ea(n,a,o).join("")};var Fa=function(e,t,r){if(!le(r))return!1;var n=typeof t;return!!("number"==n?Ut(r)&&wt(t,r.length):"string"==n&&t in r)&&L(r[t],e)},_a=Object.prototype,ja=_a.hasOwnProperty,Pa=Ti(function(e,t){e=Object(e);var r=-1,n=t.length,i=2<n?t[2]:void 0;for(i&&Fa(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],o=xn(a),s=-1,c=o.length;++s<c;){var u=o[s],f=e[u];(void 0===f||L(f,_a[u])&&!ja.call(e,u))&&(e[u]=a[u])}return e});var wa=function(e,t,r){(void 0===r||L(e[t],r))&&(void 0!==r||t in e)||dn(e,t,r)};var Sa=function(e,t){return"__proto__"==t?void 0:e[t]};var Oa=function(e){return mn(e,xn(e))};var Ea=function(e,t,r,n,i,a,o){var s=Sa(e,r),c=Sa(t,r),u=o.get(c);if(u)wa(e,r,u);else{var f=a?a(s,c,r+"",e,t,o):void 0,l=void 0===f;if(l){var h=ut(c),d=!h&&jt(c),p=!h&&!d&&Ct(c);f=c,h||d||p?f=ut(s)?s:Ni(s)?jn(s):d?_n(c,!(l=!1)):p?In(c,!(l=!1)):[]:si(c)||Ft(c)?Ft(f=s)?f=Oa(s):(!le(s)||n&&de(s))&&(f=Mn(c)):l=!1}l&&(o.set(c,f),i(f,c,n,a,o),o.delete(c)),wa(e,r,f)}};var Ta=function n(i,a,o,s,c){i!==a&&Ii(a,function(e,t){if(le(e))c||(c=new Ye),Ea(i,a,t,o,n,s,c);else{var r=s?s(Sa(i,t),e,t+"",i,a,c):void 0;void 0===r&&(r=e),wa(i,t,r)}},xn)};var Na=function(s){return Ti(function(e,t){var r=-1,n=t.length,i=1<n?t[n-1]:void 0,a=2<n?t[2]:void 0;for(i=3<s.length&&"function"==typeof i?(n--,i):void 0,a&&Fa(t[0],t[1],a)&&(i=n<3?void 0:i,n=1),e=Object(e);++r<n;){var o=t[r];o&&s(e,o,r,i)}return e})}(function(e,t,r){Ta(e,t,r)});var Aa=function e(t){if(Yi(t))return t;if(Xi(t))return parseFloat(t);if(Array.isArray(t))return Vi(t,e);throw new Error("The value should be a number, a parseable string or an array of those.")};var Ca=function(r,e){var n={},t=ki(e,function(e){return-1!==e.indexOf("attribute:")}),i=Vi(t,function(e){return e.split(":")[1]});-1===Ji(i,"*")?Li(i,function(e){r.isConjunctiveFacet(e)&&r.isFacetRefined(e)&&(n.facetsRefinements||(n.facetsRefinements={}),n.facetsRefinements[e]=r.facetsRefinements[e]),r.isDisjunctiveFacet(e)&&r.isDisjunctiveFacetRefined(e)&&(n.disjunctiveFacetsRefinements||(n.disjunctiveFacetsRefinements={}),n.disjunctiveFacetsRefinements[e]=r.disjunctiveFacetsRefinements[e]),r.isHierarchicalFacet(e)&&r.isHierarchicalFacetRefined(e)&&(n.hierarchicalFacetsRefinements||(n.hierarchicalFacetsRefinements={}),n.hierarchicalFacetsRefinements[e]=r.hierarchicalFacetsRefinements[e]);var t=r.getNumericRefinements(e);fn(t)||(n.numericRefinements||(n.numericRefinements={}),n.numericRefinements[e]=r.numericRefinements[e])}):(fn(r.numericRefinements)||(n.numericRefinements=r.numericRefinements),fn(r.facetsRefinements)||(n.facetsRefinements=r.facetsRefinements),fn(r.disjunctiveFacetsRefinements)||(n.disjunctiveFacetsRefinements=r.disjunctiveFacetsRefinements),fn(r.hierarchicalFacetsRefinements)||(n.hierarchicalFacetsRefinements=r.hierarchicalFacetsRefinements));var a=ki(e,function(e){return-1===e.indexOf("attribute:")});return Li(a,function(e){n[e]=r[e]}),n},Ia={addRefinement:function(e,t,r){if(Ia.isRefined(e,t,r))return e;var n=""+r,i=e[t]?e[t].concat(n):[n],a={};return a[t]=i,Pa({},a,e)},removeRefinement:function(e,r,t){if(Zi(t))return Ia.clearRefinement(e,r);var n=""+t;return Ia.clearRefinement(e,function(e,t){return r===t&&n===e})},toggleRefinement:function(e,t,r){if(Zi(r))throw new Error("toggleRefinement should be used with a value");return Ia.isRefined(e,t,r)?Ia.removeRefinement(e,t,r):Ia.addRefinement(e,t,r)},clearRefinement:function(e,i,a){if(Zi(i))return fn(e)?e:{};if(Xi(i))return fn(e[i])?e:Fi(e,i);if(de(i)){var o=!1,t=zi(e,function(e,t,r){var n=ki(t,function(e){return!i(e,r,a)});return fn(n)?o=!0:(n.length!==t.length&&(o=!0),e[r]=n),e},{});return o?t:e}},isRefined:function(e,t,r){var n=Ji,i=!!e[t]&&0<e[t].length;if(Zi(r)||!i)return i;var a=""+r;return-1!==n(e[t],a)}},Ha=Ia;function Qa(e){var t=e?Qa._parseNumbers(e):{};this.index=t.index||"",this.query=t.query||"",this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{},this.numericFilters=t.numericFilters,this.tagFilters=t.tagFilters,this.optionalTagFilters=t.optionalTagFilters,this.optionalFacetFilters=t.optionalFacetFilters,this.hitsPerPage=t.hitsPerPage,this.maxValuesPerFacet=t.maxValuesPerFacet,this.page=t.page||0,this.queryType=t.queryType,this.typoTolerance=t.typoTolerance,this.minWordSizefor1Typo=t.minWordSizefor1Typo,this.minWordSizefor2Typos=t.minWordSizefor2Typos,this.minProximity=t.minProximity,this.allowTyposOnNumericTokens=t.allowTyposOnNumericTokens,this.ignorePlurals=t.ignorePlurals,this.restrictSearchableAttributes=t.restrictSearchableAttributes,this.advancedSyntax=t.advancedSyntax,this.analytics=t.analytics,this.analyticsTags=t.analyticsTags,this.synonyms=t.synonyms,this.replaceSynonymsInHighlight=t.replaceSynonymsInHighlight,this.optionalWords=t.optionalWords,this.removeWordsIfNoResults=t.removeWordsIfNoResults,this.attributesToRetrieve=t.attributesToRetrieve,this.attributesToHighlight=t.attributesToHighlight,this.highlightPreTag=t.highlightPreTag,this.highlightPostTag=t.highlightPostTag,this.attributesToSnippet=t.attributesToSnippet,this.getRankingInfo=t.getRankingInfo,this.distinct=t.distinct,this.aroundLatLng=t.aroundLatLng,this.aroundLatLngViaIP=t.aroundLatLngViaIP,this.aroundRadius=t.aroundRadius,this.minimumAroundRadius=t.minimumAroundRadius,this.aroundPrecision=t.aroundPrecision,this.insideBoundingBox=t.insideBoundingBox,this.insidePolygon=t.insidePolygon,this.snippetEllipsisText=t.snippetEllipsisText,this.disableExactOnAttributes=t.disableExactOnAttributes,this.enableExactOnSingleWordQuery=t.enableExactOnSingleWordQuery,this.offset=t.offset,this.length=t.length;var r=this;Mi(t,function(e,t){-1===Qa.PARAMETERS.indexOf(t)&&(r[t]=e)})}Qa.PARAMETERS=Vt(new Qa),Qa._parseNumbers=function(n){if(n instanceof Qa)return n;var i={};if(Li(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"],function(e){var t=n[e];if(Xi(t)){var r=parseFloat(t);i[e]=Gi(r)?t:r}}),Array.isArray(n.insideBoundingBox)&&(i.insideBoundingBox=n.insideBoundingBox.map(function(e){return e.map(function(e){return parseFloat(e)})})),n.numericRefinements){var a={};Li(n.numericRefinements,function(e,n){a[n]={},Li(e,function(e,t){var r=Vi(e,function(e){return Array.isArray(e)?Vi(e,function(e){return Xi(e)?parseFloat(e):e}):Xi(e)?parseFloat(e):e});a[n][t]=r})}),i.numericRefinements=a}return Na({},n,i)},Qa.make=function(e){var r=new Qa(e);return Li(e.hierarchicalFacets,function(e){if(e.rootPath){var t=r.getHierarchicalRefinement(e.name);0<t.length&&0!==t[0].indexOf(e.rootPath)&&(r=r.clearRefinements(e.name)),0===(t=r.getHierarchicalRefinement(e.name)).length&&(r=r.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),r},Qa.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&0<r.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&!fn(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):!fn(e.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},Qa.prototype={constructor:Qa,clearRefinements:function(e){var t=Ha.clearRefinement,r={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:t(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:t(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:t(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:t(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return r.numericRefinements===this.numericRefinements&&r.facetsRefinements===this.facetsRefinements&&r.facetsExcludes===this.facetsExcludes&&r.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&r.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(r)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var n=Aa(r);if(this.isNumericRefined(e,t,n))return this;var i=Na({},this.numericRefinements);return i[e]=Na({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(n)):i[e][t]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsExcludes[e]||[]},removeNumericRefinement:function(r,n,e){if(void 0!==e){var i=Aa(e);return this.isNumericRefined(r,n,i)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n&&Ki(e.val,i)})}):this}return void 0!==n?this.isNumericRefined(r,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n})}):this:this.isNumericRefined(r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(a){if(Zi(a))return fn(this.numericRefinements)?this.numericRefinements:{};if(Xi(a))return fn(this.numericRefinements[a])?this.numericRefinements:Fi(this.numericRefinements,a);if(de(a)){var o=!1,e=zi(this.numericRefinements,function(e,t,n){var i={};return Li(t,function(e,t){var r=[];Li(e,function(e){a({val:e,op:t},n,"numeric")||r.push(e)}),fn(r)?o=!0:(r.length!==e.length&&(o=!0),i[t]=r)}),fn(i)||(e[n]=i),e},{});return o?e:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ha.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:Ha.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ha.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:Ha.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Ha.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:Ha.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:ki(this.facets,function(e){return e!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:ki(this.disjunctiveFacets,function(e){return e!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:ki(this.hierarchicalFacets,function(e){return e.name!==t})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ha.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:Ha.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ha.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:Ha.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Ha.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:Ha.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var e={tagRefinements:ki(this.tagRefinements,function(e){return e!==t})};return this.setQueryParameters(e)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:Ha.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:Ha.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:Ha.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={};return void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r))?-1===t.indexOf(r)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(r))]:n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Pa({},n,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Pa({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))throw new Error(e+" is not refined.");var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Pa({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<Ji(this.disjunctiveFacets,e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<Ji(this.facets,e)},isFacetRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ha.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Ha.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Ha.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this.getHierarchicalRefinement(e);return t?-1!==Ji(r,t):0<r.length},isNumericRefined:function(e,t,r){if(Zi(r)&&Zi(t))return!!this.numericRefinements[e];var n=this.numericRefinements[e]&&!Zi(this.numericRefinements[e][t]);if(Zi(r)||!n)return n;var i,a,o=Aa(r),s=!Zi((i=this.numericRefinements[e][t],a=o,cn(i,function(e){return Ki(e,a)})));return n&&s},isTagRefined:function(e){return-1!==Ji(this.tagRefinements,e)},getRefinedDisjunctiveFacets:function(){var e=Ci(Vt(this.numericRefinements),this.disjunctiveFacets);return Vt(this.disjunctiveFacetsRefinements).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){return Ci(Vi(this.hierarchicalFacets,"name"),Vt(this.hierarchicalFacetsRefinements))},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return ki(this.disjunctiveFacets,function(e){return-1===Ji(t,e)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements"],getQueryParams:function(){var r=this.managedParameters,n={};return Mi(this,function(e,t){-1===Ji(r,t)&&void 0!==e&&(n[t]=e)}),n},getQueryParameter:function(e){if(!this.hasOwnProperty(e))throw new Error("Parameter '"+e+"' is not an attribute of SearchParameters (http://algolia.github.io/algoliasearch-helper-js/docs/SearchParameters.html)");return this[e]},setQueryParameter:function(e,t){if(this[e]===t)return this;var r={};return r[e]=t,this.setQueryParameters(r)},setQueryParameters:function(r){if(!r)return this;var e=Qa.validate(this,r);if(e)throw e;var n=Qa._parseNumbers(r);return this.mutateMe(function(t){var e=Vt(r);return Li(e,function(e){t[e]=n[e]}),t})},filter:function(e){return Ca(this,e)},mutateMe:function(e){var t=new this.constructor(this);return e(t,this),t},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return cn(this.hierarchicalFacets,{name:e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))throw new Error("Cannot get the breadcrumb of an unknown hierarchical facet: `"+e+"`");var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n=t.split(r);return Vi(n,xa)},toString:function(){return JSON.stringify(this,null,2)}};var Ma=Qa;var Da=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i};var La=function(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);void 0!==a&&(r=void 0===r?a:r+a)}return r};var Ba=function(e,t){return e&&e.length?La(e,Jr(t,2)):0};var ka=function(t,e){return Tr(e,function(e){return t[e]})};var Ua=function(e){return null==e?[]:ka(e,Vt(e))},Va=Math.max;var qa=function(e,t,r,n){e=Ut(e)?e:Ua(e),r=r&&!n?an(r):0;var i=e.length;return r<0&&(r=Va(i+r,0)),Xi(e)?r<=i&&-1<e.indexOf(t,r):!!i&&-1<Pi(e,t,r)};var Wa=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e};var za=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,a=Rr(e),o=void 0!==t,s=null===t,c=t==t,u=Rr(t);if(!s&&!u&&!a&&t<e||a&&o&&c&&!s&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!c)return-1}return 0};var $a=function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var c=za(i[n],a[n]);if(c)return s<=n?c:c*("desc"==r[n]?-1:1)}return e.index-t.index};var Ja=function(e,n,r){var i=-1;n=Tr(n.length?n:[qr],Tt(Jr));var t=Ui(e,function(t,e,r){return{criteria:Tr(n,function(e){return e(t)}),index:++i,value:t}});return Wa(t,function(e,t){return $a(e,t,r)})};var Ya=function(e,t,r,n){return null==e?[]:(ut(t)||(t=null==t?[]:[t]),ut(r=n?void 0:r)||(r=null==r?[]:[r]),Ja(e,t,r))},Ga=Gt&&new Gt,Ka=Ga?function(e,t){return Ga.set(e,t),e}:qr;var Za=function(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Qn(n.prototype),r=n.apply(t,e);return le(r)?r:t}};var Xa=function(t,e,r){var n=1&e,i=Za(t);return function e(){return(this&&this!==ee&&this instanceof e?i:t).apply(n?r:this,arguments)}},eo=Math.max;var to=function(e,t,r,n){for(var i=-1,a=e.length,o=r.length,s=-1,c=t.length,u=eo(a-o,0),f=Array(c+u),l=!n;++s<c;)f[s]=t[s];for(;++i<o;)(l||i<a)&&(f[r[i]]=e[i]);for(;u--;)f[s++]=e[i++];return f},ro=Math.max;var no=function(e,t,r,n){for(var i=-1,a=e.length,o=-1,s=r.length,c=-1,u=t.length,f=ro(a-s,0),l=Array(f+u),h=!n;++i<f;)l[i]=e[i];for(var d=i;++c<u;)l[d+c]=t[c];for(;++o<s;)(h||i<a)&&(l[d+r[o]]=e[i++]);return l};var io=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n};var ao=function(){};function oo(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}var so=(oo.prototype=Qn(ao.prototype)).constructor=oo;var co=Ga?function(e){return Ga.get(e)}:function(){},uo={},fo=Object.prototype.hasOwnProperty;var lo=function(e){for(var t=e.name+"",r=uo[t],n=fo.call(uo,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t};function ho(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var po=(ho.prototype=Qn(ao.prototype)).constructor=ho;var vo=function(e){if(e instanceof so)return e.clone();var t=new po(e.__wrapped__,e.__chain__);return t.__actions__=jn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},mo=Object.prototype.hasOwnProperty;function go(e){if(gt(e)&&!ut(e)&&!(e instanceof so)){if(e instanceof po)return e;if(mo.call(e,"__wrapped__"))return vo(e)}return new po(e)}var yo=(go.prototype=ao.prototype).constructor=go;var bo=function(e){var t=lo(e),r=yo[t];if("function"!=typeof r||!(t in so.prototype))return!1;if(e===r)return!0;var n=co(r);return!!n&&e===n[0]},Ro=bi(Ka),xo=/\{\n\/\* \[wrapped with (.+)\] \*/,Fo=/,? & /;var _o=function(e){var t=e.match(xo);return t?t[1].split(Fo):[]},jo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Po=function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(1<r?"& ":"")+t[n],t=t.join(2<r?", ":" "),e.replace(jo,"{\n/* [wrapped with "+t+"] */\n")},wo=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var So=function(r,n){return ln(wo,function(e){var t="_."+e[0];n&e[1]&&!wi(r,t)&&r.push(t)}),r.sort()};var Oo=function(e,t,r){var n=t+"";return Ri(e,Po(n,So(_o(n),r)))};var Eo=function(e,t,r,n,i,a,o,s,c,u){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var l=[e,t,i,f?a:void 0,f?o:void 0,f?void 0:a,f?void 0:o,s,c,u],h=r.apply(void 0,l);return bo(e)&&Ro(h,l),h.placeholder=n,Oo(h,e,t)};var To=function(e){return e.placeholder},No=Math.min;var Ao=function(e,t){for(var r=e.length,n=No(t.length,r),i=jn(e);n--;){var a=t[n];e[n]=wt(a,r)?i[a]:void 0}return e},Co="__lodash_placeholder__";var Io=function(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r];o!==t&&o!==Co||(e[r]=Co,a[i++]=r)}return a},Ho=1,Qo=2,Mo=8,Do=16,Lo=128,Bo=512;var ko=function u(f,l,h,d,p,v,m,g,y,b){var R=l&Lo,x=l&Ho,F=l&Qo,_=l&(Mo|Do),j=l&Bo,P=F?void 0:Za(f);return function e(){for(var t=arguments.length,r=Array(t),n=t;n--;)r[n]=arguments[n];if(_)var i=To(e),a=io(r,i);if(d&&(r=to(r,d,p,_)),v&&(r=no(r,v,m,_)),t-=a,_&&t<b){var o=Io(r,i);return Eo(f,l,u,e.placeholder,h,r,o,g,y,b-t)}var s=x?h:this,c=F?s[f]:f;return t=r.length,g?r=Ao(r,g):j&&1<t&&r.reverse(),R&&y<t&&(r.length=y),this&&this!==ee&&this instanceof e&&(c=P||Za(c)),c.apply(s,r)}};var Uo=function(o,s,c){var u=Za(o);return function e(){for(var t=arguments.length,r=Array(t),n=t,i=To(e);n--;)r[n]=arguments[n];var a=t<3&&r[0]!==i&&r[t-1]!==i?[]:Io(r,i);return(t-=a.length)<c?Eo(o,s,ko,e.placeholder,void 0,r,a,void 0,void 0,c-t):di(this&&this!==ee&&this instanceof e?u:o,this,r)}};var Vo=function(s,e,c,u){var f=1&e,l=Za(s);return function e(){for(var t=-1,r=arguments.length,n=-1,i=u.length,a=Array(i+r),o=this&&this!==ee&&this instanceof e?l:s;++n<i;)a[n]=u[n];for(;r--;)a[n++]=arguments[++t];return di(o,f?c:this,a)}},qo="__lodash_placeholder__",Wo=Math.min;var zo=function(e,t){var r=e[1],n=t[1],i=r|n,a=i<131,o=128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!a&&!o)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?to(c,s,t[4]):s,e[4]=c?Io(e[3],qo):t[4]}return(s=t[5])&&(c=e[5],e[5]=c?no(c,s,t[6]):s,e[6]=c?Io(e[5],qo):t[6]),(s=t[7])&&(e[7]=s),128&n&&(e[8]=null==e[8]?t[8]:Wo(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},$o=Math.max;var Jo=function(e,t,r,n,i,a,o,s){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var u=n?n.length:0;if(u||(t&=-97,n=i=void 0),o=void 0===o?o:$o(an(o),0),s=void 0===s?s:an(s),u-=i?i.length:0,64&t){var f=n,l=i;n=i=void 0}var h=c?void 0:co(e),d=[e,t,r,n,i,f,l,a,o,s];if(h&&zo(d,h),e=d[0],t=d[1],r=d[2],n=d[3],i=d[4],!(s=d[9]=void 0===d[9]?c?0:e.length:$o(d[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?Uo(e,t,s):32!=t&&33!=t||i.length?ko.apply(void 0,d):Vo(e,t,r,n);else var p=Xa(e,t,r);return Oo((h?Ka:Ro)(p,d),e,t)},Yo=Ti(function(e,t){var r=Io(t,To(Yo));return Jo(e,32,void 0,t,r)});Yo.placeholder={};var Go=Yo,Ko=Ti(function(e,t){var r=Io(t,To(Ko));return Jo(e,64,void 0,t,r)});Ko.placeholder={};var Zo=Ko;var Xo=function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=t<=e?e:t)),e};var es=function(e,t,r){return e=Hr(e),r=null==r?0:Xo(an(r),0,e.length),t=Ir(t),e.slice(r,r+t.length)==t},ts=function(e,i){return zi(e,function(e,t){var r=t.split(":");if(i&&1===r.length){var n=cn(i,function(e){return es(e,t[0])});n&&(r=n.split(":"))}return e[0].push(r[0]),e[1].push(r[1]),e},[[],[]])};var rs=function(e,t,r,n){if(!le(e))return e;for(var i=-1,a=(t=Qr(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var c=Mr(t[i]),u=r;if(i!=o){var f=s[c];void 0===(u=n?n(f,c,s):void 0)&&(u=le(f)?f:wt(t[i+1])?[]:{})}vn(s,c,u),s=s[c]}return e};var ns=function(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=Dr(e,o);r(s,o)&&rs(a,Qr(o,e),s)}return a};var is=function(e,r){if(null==e)return{};var t=Tr(En(e),function(e){return[e]});return r=Jr(r),ns(e,t,function(e,t){return r(e,t[0])})},as=function(f){return function(e,t){var d,p,v,m,g,r=f.hierarchicalFacets[t],n=f.hierarchicalFacetsRefinements[r.name]&&f.hierarchicalFacetsRefinements[r.name][0]||"",i=f._getHierarchicalFacetSeparator(r),a=f._getHierarchicalRootPath(r),o=f._getHierarchicalShowParentLevel(r),s=ts(f._getHierarchicalFacetSortBy(r)),c=(d=s,p=i,v=a,m=o,g=n,function(e,t,r){var n,i,a,o,s,c,u,f=e;if(0<r){var l=0;for(f=e;l<r;)f=f&&cn(f.data,{isRefined:!0}),l++}if(f){var h=(a=f.path||v,o=g,s=p,c=v,u=m,function(e,t){return(!c||0===t.indexOf(c)&&c!==t)&&(!c&&-1===t.indexOf(s)||c&&t.split(s).length-c.split(s).length==1||-1===t.indexOf(s)&&-1===o.indexOf(s)||0===o.indexOf(t)||0===t.indexOf(a+s)&&(u||0===t.indexOf(o)))});f.data=Ya(Vi(is(t.data,h),(n=p,i=g,function(e,t){return{name:xa(Zn(t.split(n))),path:t,count:e,isRefined:i===t||0===i.indexOf(t+n),data:null}})),d[0],d[1])}return e}),u=e;return a&&(u=e.slice(a.split(i).length)),zi(u,c,{name:f.hierarchicalFacets[t].name,count:null,isRefined:!0,path:null,data:null})}};function os(e){var r={};return Li(e,function(e,t){r[e]=t}),r}function ss(e,t,r){t&&t[r]&&(e.stats=t[r])}function cs(f,r){var l=r[0];this._rawResults=r,this.query=l.query,this.parsedQuery=l.parsedQuery,this.hits=l.hits,this.index=l.index,this.hitsPerPage=l.hitsPerPage,this.nbHits=l.nbHits,this.nbPages=l.nbPages,this.page=l.page,this.processingTimeMS=Ba(r,"processingTimeMS"),this.aroundLatLng=l.aroundLatLng,this.automaticRadius=l.automaticRadius,this.serverUsed=l.serverUsed,this.timeoutCounts=l.timeoutCounts,this.timeoutHits=l.timeoutHits,this.exhaustiveFacetsCount=l.exhaustiveFacetsCount,this.exhaustiveNbHits=l.exhaustiveNbHits,this.userData=l.userData,this.queryID=l.queryID,this.disjunctiveFacets=[],this.hierarchicalFacets=Vi(f.hierarchicalFacets,function(){return[]}),this.facets=[];var e=f.getRefinedDisjunctiveFacets(),h=os(f.facets),d=os(f.disjunctiveFacets),n=1,p=this;Li(l.facets,function(e,t){var r,n,i=(r=f.hierarchicalFacets,n=t,cn(r,function(e){return qa(e.attributes,n)}));if(i){var a=i.attributes.indexOf(t),o=sn(f.hierarchicalFacets,{name:i.name});p.hierarchicalFacets[o][a]={attribute:t,data:e,exhaustive:l.exhaustiveFacetsCount}}else{var s,c=-1!==Ji(f.disjunctiveFacets,t),u=-1!==Ji(f.facets,t);c&&(s=d[t],p.disjunctiveFacets[s]={name:t,data:e,exhaustive:l.exhaustiveFacetsCount},ss(p.disjunctiveFacets[s],l.facets_stats,t)),u&&(s=h[t],p.facets[s]={name:t,data:e,exhaustive:l.exhaustiveFacetsCount},ss(p.facets[s],l.facets_stats,t))}}),this.hierarchicalFacets=Da(this.hierarchicalFacets),Li(e,function(e){var a=r[n],o=f.getHierarchicalFacetByName(e);Li(a.facets,function(e,t){var r;if(o){r=sn(f.hierarchicalFacets,{name:o.name});var n=sn(p.hierarchicalFacets[r],{attribute:t});if(-1===n)return;p.hierarchicalFacets[r][n].data=Na({},p.hierarchicalFacets[r][n].data,e)}else{r=d[t];var i=l.facets&&l.facets[t]||{};p.disjunctiveFacets[r]={name:t,data:Pa({},e,i),exhaustive:a.exhaustiveFacetsCount},ss(p.disjunctiveFacets[r],a.facets_stats,t),f.disjunctiveFacetsRefinements[t]&&Li(f.disjunctiveFacetsRefinements[t],function(e){!p.disjunctiveFacets[r].data[e]&&-1<Ji(f.disjunctiveFacetsRefinements[t],e)&&(p.disjunctiveFacets[r].data[e]=0)})}}),n++}),Li(f.getRefinedHierarchicalFacets(),function(e){var o=f.getHierarchicalFacetByName(e),s=f._getHierarchicalFacetSeparator(o),c=f.getHierarchicalRefinement(e);if(!(0===c.length||c[0].split(s).length<2)){var t=r[n];Li(t.facets,function(e,t){var r=sn(f.hierarchicalFacets,{name:o.name}),n=sn(p.hierarchicalFacets[r],{attribute:t});if(-1!==n){var i={};if(0<c.length){var a=c[0].split(s)[0];i[a]=p.hierarchicalFacets[r][n].data[a]}p.hierarchicalFacets[r][n].data=Pa(i,e,p.hierarchicalFacets[r][n].data)}}),n++}}),Li(f.facetsExcludes,function(e,t){var r=h[t];p.facets[r]={name:t,data:l.facets[t],exhaustive:l.exhaustiveFacetsCount},Li(e,function(e){p.facets[r]=p.facets[r]||{name:t},p.facets[r].data=p.facets[r].data||{},p.facets[r].data[e]=0})}),this.hierarchicalFacets=Vi(this.hierarchicalFacets,as(f)),this.facets=Da(this.facets),this.disjunctiveFacets=Da(this.disjunctiveFacets),this._state=f}function us(e,t){if(!t.data||0===t.data.length)return t;var r=e(Vi(t.data,Go(us,e)));return Na({},t,{data:r})}function fs(e,t){return t.sort(e)}function ls(e,t){var r=cn(e,{name:t});return r&&r.stats}function hs(e,t,r,n,i){var a=cn(i,{name:r});return{type:t,attributeName:r,name:n,count:Lr(a,"data["+n+"]")||0,exhaustive:Lr(a,"exhaustive")||!1}}cs.prototype.getFacetByName=function(e){var t={name:e};return cn(this.facets,t)||cn(this.disjunctiveFacets,t)||cn(this.hierarchicalFacets,t)},cs.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],cs.prototype.getFacetValues=function(e,t){var r=function(r,n){var e={name:n};if(r._state.isConjunctiveFacet(n)){var t=cn(r.facets,e);return t?Vi(t.data,function(e,t){return{name:t,count:e,isRefined:r._state.isFacetRefined(n,t),isExcluded:r._state.isExcludeRefined(n,t)}}):[]}if(r._state.isDisjunctiveFacet(n)){var i=cn(r.disjunctiveFacets,e);return i?Vi(i.data,function(e,t){return{name:t,count:e,isRefined:r._state.isDisjunctiveFacetRefined(n,t)}}):[]}if(r._state.isHierarchicalFacet(n))return cn(r.hierarchicalFacets,e)}(this,e);if(!r)throw new Error(e+" is not a retrieved facet.");var n=Pa({},t,{sortBy:cs.DEFAULT_SORT});if(Array.isArray(n.sortBy)){var i=ts(n.sortBy,cs.DEFAULT_SORT);return Array.isArray(r)?Ya(r,i[0],i[1]):us(Zo(Ya,i[0],i[1]),r)}if(de(n.sortBy))return Array.isArray(r)?r.sort(n.sortBy):us(Go(fs,n.sortBy),r);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},cs.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return ls(this.facets,e);if(this._state.isDisjunctiveFacet(e))return ls(this.disjunctiveFacets,e);throw new Error(e+" is not present in `facets` or `disjunctiveFacets`")},cs.prototype.getRefinements=function(){var r=this._state,n=this,i=[];return Li(r.facetsRefinements,function(e,t){Li(e,function(e){i.push(hs(r,"facet",t,e,n.facets))})}),Li(r.facetsExcludes,function(e,t){Li(e,function(e){i.push(hs(r,"exclude",t,e,n.facets))})}),Li(r.disjunctiveFacetsRefinements,function(e,t){Li(e,function(e){i.push(hs(r,"disjunctive",t,e,n.disjunctiveFacets))})}),Li(r.hierarchicalFacetsRefinements,function(e,t){Li(e,function(e){i.push(function(e,t,r,n){for(var i=cn(n,{name:t}),a=e.getHierarchicalFacetByName(t),o=r.split(a.separator),s=o[o.length-1],c=0;void 0!==i&&c<o.length;++c)i=cn(i.data,{name:o[c]});var u=Lr(i,"count"),f=Lr(i,"exhaustive");return{type:"hierarchical",attributeName:t,name:s,count:u||0,exhaustive:f||!1}}(r,t,e,n.hierarchicalFacets))})}),Li(r.numericRefinements,function(e,r){Li(e,function(e,t){Li(e,function(e){i.push({type:"numeric",attributeName:r,name:e,numericValue:e,operator:t})})})}),Li(r.tagRefinements,function(e){i.push({type:"tag",attributeName:"_tags",name:e})}),i};var ds=cs,ps=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8},vs=S(function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),ms=S(function(e,d){var s=/%[sdj%]/g;d.format=function(e){if(!x(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(c(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(s,function(e){if("%%"===e)return"%";if(i<=r)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),o=n[r];r<i;o=n[++r])b(o)||!u(o)?a+=" "+o:a+=" "+c(o);return a},d.deprecate=function(e,t){if(F(E.process))return function(){return d.deprecate(e,t).apply(this,arguments)};var r=!1;return function(){return r||(console.error(t),r=!0),e.apply(this,arguments)}};var n,i={};function c(e,t){var r={seen:[],stylize:o};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),y(t)?r.showHidden=t:t&&d._extend(r,t),F(r.showHidden)&&(r.showHidden=!1),F(r.depth)&&(r.depth=2),F(r.colors)&&(r.colors=!1),F(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),p(r,e,r.depth)}function a(e,t){var r=c.styles[t];return r?"["+c.colors[r][0]+"m"+e+"["+c.colors[r][1]+"m":e}function o(e,t){return e}function p(t,r,n){if(t.customInspect&&r&&w(r.inspect)&&r.inspect!==d.inspect&&(!r.constructor||r.constructor.prototype!==r)){var e=r.inspect(n,t);return x(e)||(e=p(t,e,n)),e}var i=function(e,t){if(F(t))return e.stylize("undefined","undefined");if(x(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(R(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}(t,r);if(i)return i;var a,o=Object.keys(r),s=(a={},o.forEach(function(e,t){a[e]=!0}),a);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),P(r)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return v(r);if(0===o.length){if(w(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(_(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(j(r))return t.stylize(Date.prototype.toString.call(r),"date");if(P(r))return v(r)}var u,f="",l=!1,h=["{","}"];(g(r)&&(l=!0,h=["[","]"]),w(r))&&(f=" [Function"+(r.name?": "+r.name:"")+"]");return _(r)&&(f=" "+RegExp.prototype.toString.call(r)),j(r)&&(f=" "+Date.prototype.toUTCString.call(r)),P(r)&&(f=" "+v(r)),0!==o.length||l&&0!=r.length?n<0?_(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),u=l?function(t,r,n,i,e){for(var a=[],o=0,s=r.length;o<s;++o)S(r,String(o))?a.push(m(t,r,n,i,String(o),!0)):a.push("");return e.forEach(function(e){e.match(/^\d+$/)||a.push(m(t,r,n,i,e,!0))}),a}(t,r,n,s,o):o.map(function(e){return m(t,r,n,s,e,l)}),t.seen.pop(),function(e,t,r){if(60<e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,f,h)):h[0]+f+h[1]}function v(e){return"["+Error.prototype.toString.call(e)+"]"}function m(e,t,r,n,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),S(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(c.value)<0?-1<(s=b(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),F(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function g(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function b(e){return null===e}function R(e){return"number"==typeof e}function x(e){return"string"==typeof e}function F(e){return void 0===e}function _(e){return u(e)&&"[object RegExp]"===t(e)}function u(e){return"object"==typeof e&&null!==e}function j(e){return u(e)&&"[object Date]"===t(e)}function P(e){return u(e)&&("[object Error]"===t(e)||e instanceof Error)}function w(e){return"function"==typeof e}function t(e){return Object.prototype.toString.call(e)}function r(e){return e<10?"0"+e.toString(10):e.toString(10)}d.debuglog=function(t){if(F(n)&&(n=""),t=t.toUpperCase(),!i[t])if(new RegExp("\\b"+t+"\\b","i").test(n)){var r=O.pid;i[t]=function(){var e=d.format.apply(d,arguments);console.error("%s %d: %s",t,r,e)}}else i[t]=function(){};return i[t]},(d.inspect=c).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},d.isArray=g,d.isBoolean=y,d.isNull=b,d.isNullOrUndefined=function(e){return null==e},d.isNumber=R,d.isString=x,d.isSymbol=function(e){return"symbol"==typeof e},d.isUndefined=F,d.isRegExp=_,d.isObject=u,d.isDate=j,d.isError=P,d.isFunction=w,d.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},d.isBuffer=ps;var f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}d.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[r(e.getHours()),r(e.getMinutes()),r(e.getSeconds())].join(":"),[e.getDate(),f[e.getMonth()],t].join(" ")),d.format.apply(d,arguments))},d.inherits=vs,d._extend=function(e,t){if(!t||!u(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}});ms.format,ms.deprecate,ms.debuglog,ms.inspect,ms.isArray,ms.isBoolean,ms.isNull,ms.isNullOrUndefined,ms.isNumber,ms.isString,ms.isSymbol,ms.isUndefined,ms.isRegExp,ms.isObject,ms.isDate,ms.isError,ms.isFunction,ms.isPrimitive,ms.isBuffer,ms.log,ms.inherits,ms._extend;function gs(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var ys=gs;function bs(e){return"function"==typeof e}function Rs(e){return"object"==typeof e&&null!==e}function xs(e){return void 0===e}function Fs(e,t){this.main=e,this.fn=t,this.lastResults=null}(gs.EventEmitter=gs).prototype._events=void 0,gs.prototype._maxListeners=void 0,gs.defaultMaxListeners=10,gs.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},gs.prototype.emit=function(e){var t,r,n,i,a,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||Rs(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(xs(r=this._events[e]))return!1;if(bs(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Rs(r))for(i=Array.prototype.slice.call(arguments,1),n=(o=r.slice()).length,a=0;a<n;a++)o[a].apply(this,i);return!0},gs.prototype.on=gs.prototype.addListener=function(e,t){var r;if(!bs(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,bs(t.listener)?t.listener:t),this._events[e]?Rs(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Rs(this._events[e])&&!this._events[e].warned&&(r=xs(this._maxListeners)?gs.defaultMaxListeners:this._maxListeners)&&0<r&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},gs.prototype.once=function(e,t){if(!bs(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},gs.prototype.removeListener=function(e,t){var r,n,i,a;if(!bs(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||bs(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Rs(r)){for(a=i;0<a--;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},gs.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(bs(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},gs.prototype.listeners=function(e){return this._events&&this._events[e]?bs(this._events[e])?[this._events[e]]:this._events[e].slice():[]},gs.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(bs(t))return 1;if(t)return t.length}return 0},gs.listenerCount=function(e,t){return e.listenerCount(t)},ms.inherits(Fs,ys.EventEmitter),Fs.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},Fs.prototype.getModifiedState=function(e){return this.fn(e)};var _s=Fs,js={_getQueries:function(i,a){var o=[];return o.push({indexName:i,params:js._getHitsSearchParams(a)}),Li(a.getRefinedDisjunctiveFacets(),function(e){o.push({indexName:i,params:js._getDisjunctiveFacetSearchParams(a,e)})}),Li(a.getRefinedHierarchicalFacets(),function(e){var t=a.getHierarchicalFacetByName(e),r=a.getHierarchicalRefinement(e),n=a._getHierarchicalFacetSeparator(t);0<r.length&&1<r[0].split(n).length&&o.push({indexName:i,params:js._getDisjunctiveFacetSearchParams(a,e,!0)})}),o},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(js._getHitsHierarchicalFacetsAttributes(e)),r=js._getFacetFilters(e),n=js._getNumericFilters(e),i={facets:t,tagFilters:js._getTagFilters(e)};return 0<r.length&&(i.facetFilters=r),0<n.length&&(i.numericFilters=n),Na(e.getQueryParams(),i)},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=js._getFacetFilters(e,t,r),i=js._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:js._getTagFilters(e),analytics:!1,clickAnalytics:!1},o=e.getHierarchicalFacetByName(t);return a.facets=o?js._getDisjunctiveHierarchicalFacetAttribute(e,o,r):t,0<i.length&&(a.numericFilters=i),0<n.length&&(a.facetFilters=n),Na(e.getQueryParams(),a)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var i=[];return Li(e.numericRefinements,function(e,n){Li(e,function(e,r){t!==n&&Li(e,function(e){if(Array.isArray(e)){var t=Vi(e,function(e){return n+r+e});i.push(t)}else i.push(n+r+e)})})}),i},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(c,u,f){var l=[];return Li(c.facetsRefinements,function(e,t){Li(e,function(e){l.push(t+":"+e)})}),Li(c.facetsExcludes,function(e,t){Li(e,function(e){l.push(t+":-"+e)})}),Li(c.disjunctiveFacetsRefinements,function(e,t){if(t!==u&&e&&0!==e.length){var r=[];Li(e,function(e){r.push(t+":"+e)}),l.push(r)}}),Li(c.hierarchicalFacetsRefinements,function(e,t){var r=e[0];if(void 0!==r){var n,i,a=c.getHierarchicalFacetByName(t),o=c._getHierarchicalFacetSeparator(a),s=c._getHierarchicalRootPath(a);if(u===t){if(-1===r.indexOf(o)||!s&&!0===f||s&&s.split(o).length===r.split(o).length)return;s?(i=s.split(o).length-1,r=s):(i=r.split(o).length-2,r=r.slice(0,r.lastIndexOf(o))),n=a.attributes[i]}else i=r.split(o).length-1,n=a.attributes[i];n&&l.push([n+":"+r])}}),l},_getHitsHierarchicalFacetsAttributes:function(o){return zi(o.hierarchicalFacets,function(e,t){var r=o.getHierarchicalRefinement(t.name)[0];if(!r)return e.push(t.attributes[0]),e;var n=o._getHierarchicalFacetSeparator(t),i=r.split(n).length,a=t.attributes.slice(0,i+1);return e.concat(a)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(!0===r){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(n).length),[t.attributes[a]]}var o=(e.getHierarchicalRefinement(t.name)[0]||"").split(n).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,r,n){var i=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,a={facetQuery:t,facetName:e};return"number"==typeof r&&(a.maxFacetHits=r),Na(js._getHitsSearchParams(i),a)}},Ps=js;var ws=function(e,n,i,a){return Hi(e,function(e,t,r){n(a,i(e),t,r)}),a};var Ss=function(r,n){return function(e,t){return ws(e,r,n(t),{})}},Os=Object.prototype.toString,Es=Ss(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Os.call(t)),e[t]=r},mi(qr)),Ts={advancedSyntax:"aS",allowTyposOnNumericTokens:"aTONT",analyticsTags:"aT",analytics:"a",aroundLatLngViaIP:"aLLVIP",aroundLatLng:"aLL",aroundPrecision:"aP",aroundRadius:"aR",attributesToHighlight:"aTH",attributesToRetrieve:"aTR",attributesToSnippet:"aTS",disjunctiveFacetsRefinements:"dFR",disjunctiveFacets:"dF",distinct:"d",facetsExcludes:"fE",facetsRefinements:"fR",facets:"f",getRankingInfo:"gRI",hierarchicalFacetsRefinements:"hFR",hierarchicalFacets:"hF",highlightPostTag:"hPoT",highlightPreTag:"hPrT",hitsPerPage:"hPP",ignorePlurals:"iP",index:"idx",insideBoundingBox:"iBB",insidePolygon:"iPg",length:"l",maxValuesPerFacet:"mVPF",minimumAroundRadius:"mAR",minProximity:"mP",minWordSizefor1Typo:"mWS1T",minWordSizefor2Typos:"mWS2T",numericFilters:"nF",numericRefinements:"nR",offset:"o",optionalWords:"oW",page:"p",queryType:"qT",query:"q",removeWordsIfNoResults:"rWINR",replaceSynonymsInHighlight:"rSIH",restrictSearchableAttributes:"rSA",synonyms:"s",tagFilters:"tF",tagRefinements:"tR",typoTolerance:"tT",optionalTagFilters:"oTF",optionalFacetFilters:"oFF",snippetEllipsisText:"sET",disableExactOnAttributes:"dEOA",enableExactOnSingleWordQuery:"eEOSWQ"},Ns=Es(Ts),As={ENCODED_PARAMETERS:Vt(Ns),decode:function(e){return Ns[e]},encode:function(e){return Ts[e]}},Cs=S(function(e,a){var o=Object.prototype.hasOwnProperty,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();a.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},a.merge=function(r,n,i){if(!n)return r;if("object"!=typeof n){if(Array.isArray(r))r.push(n);else{if("object"!=typeof r)return[r,n];(i.plainObjects||i.allowPrototypes||!o.call(Object.prototype,n))&&(r[n]=!0)}return r}if("object"!=typeof r)return[r].concat(n);var e=r;return Array.isArray(r)&&!Array.isArray(n)&&(e=a.arrayToObject(r,i)),Array.isArray(r)&&Array.isArray(n)?(n.forEach(function(e,t){o.call(r,t)?r[t]&&"object"==typeof r[t]?r[t]=a.merge(r[t],e,i):r.push(e):r[t]=e}),r):Object.keys(n).reduce(function(e,t){var r=n[t];return o.call(e,t)?e[t]=a.merge(e[t],r,i):e[t]=r,e},e)},a.assign=function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},a.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},a.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var i=t.charCodeAt(n);45===i||46===i||95===i||126===i||48<=i&&i<=57||65<=i&&i<=90||97<=i&&i<=122?r+=t.charAt(n):i<128?r+=s[i]:i<2048?r+=s[192|i>>6]+s[128|63&i]:i<55296||57344<=i?r+=s[224|i>>12]+s[128|i>>6&63]+s[128|63&i]:(n+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),r+=s[240|i>>18]+s[128|i>>12&63]+s[128|i>>6&63]+s[128|63&i])}return r},a.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.length;++s){var c=o[s],u=a[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:c}),r.push(u))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],i=0;i<t.length;++i)void 0!==t[i]&&n.push(t[i]);r.obj[r.prop]=n}}return t}(t)},a.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},a.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}}),Is=(Cs.arrayToObject,Cs.merge,Cs.assign,Cs.decode,Cs.encode,Cs.compact,Cs.isRegExp,Cs.isBuffer,String.prototype.replace),Hs=/%20/g,Qs={default:"RFC3986",formatters:{RFC1738:function(e){return Is.call(e,Hs,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},Ms={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Ds=Date.prototype.toISOString,Ls={delimiter:"&",encode:!0,encoder:Cs.encode,encodeValuesOnly:!1,serializeDate:function(e){return Ds.call(e)},skipNulls:!1,strictNullHandling:!1},Bs=function e(t,r,n,i,a,o,s,c,u,f,l,h){var d=t;if("function"==typeof s)d=s(r,d);else if(d instanceof Date)d=f(d);else if(null===d){if(i)return o&&!h?o(r,Ls.encoder):r;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||Cs.isBuffer(d))return o?[l(h?r:o(r,Ls.encoder))+"="+l(o(d,Ls.encoder))]:[l(r)+"="+l(String(d))];var p,v=[];if(void 0===d)return v;if(Array.isArray(s))p=s;else{var m=Object.keys(d);p=c?m.sort(c):m}for(var g=0;g<p.length;++g){var y=p[g];a&&null===d[y]||(v=Array.isArray(d)?v.concat(e(d[y],n(r,y),n,i,a,o,s,c,u,f,l,h)):v.concat(e(d[y],r+(u?"."+y:"["+y+"]"),n,i,a,o,s,c,u,f,l,h)))}return v},ks=Object.prototype.hasOwnProperty,Us={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:Cs.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},Vs=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),o=a?n.slice(0,a.index):n,s=[];if(o){if(!r.plainObjects&&ks.call(Object.prototype,o)&&!r.allowPrototypes)return;s.push(o)}for(var c=0;null!==(a=i.exec(n))&&c<r.depth;){if(c+=1,!r.plainObjects&&ks.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(a[1])}return a&&s.push("["+n.slice(a.index)+"]"),function(e,t,r){for(var n=t,i=e.length-1;0<=i;--i){var a,o=e[i];if("[]"===o)a=(a=[]).concat(n);else{a=r.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=parseInt(s,10);!isNaN(c)&&o!==s&&String(c)===s&&0<=c&&r.parseArrays&&c<=r.arrayLimit?(a=[])[c]=n:a[s]=n}n=a}return n}(s,t,r)}},qs=function(e,t){var r=t?Cs.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||Cs.isRegExp(r.delimiter)?r.delimiter:Us.delimiter,r.depth="number"==typeof r.depth?r.depth:Us.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:Us.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:Us.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:Us.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:Us.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:Us.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:Us.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:Us.strictNullHandling,""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,a=n.split(t.delimiter,i),o=0;o<a.length;++o){var s,c,u=a[o],f=u.indexOf("]="),l=-1===f?u.indexOf("="):f+1;-1===l?(s=t.decoder(u,Us.decoder),c=t.strictNullHandling?null:""):(s=t.decoder(u.slice(0,l),Us.decoder),c=t.decoder(u.slice(l+1),Us.decoder)),ks.call(r,s)?r[s]=[].concat(r[s]).concat(c):r[s]=c}return r}(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var s=a[o],c=Vs(s,n[s],r);i=Cs.merge(i,c,r)}return Cs.compact(i)},Ws=function(e,t){var r=e,n=t?Cs.assign({},t):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var i=void 0===n.delimiter?Ls.delimiter:n.delimiter,a="boolean"==typeof n.strictNullHandling?n.strictNullHandling:Ls.strictNullHandling,o="boolean"==typeof n.skipNulls?n.skipNulls:Ls.skipNulls,s="boolean"==typeof n.encode?n.encode:Ls.encode,c="function"==typeof n.encoder?n.encoder:Ls.encoder,u="function"==typeof n.sort?n.sort:null,f=void 0!==n.allowDots&&n.allowDots,l="function"==typeof n.serializeDate?n.serializeDate:Ls.serializeDate,h="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:Ls.encodeValuesOnly;if(void 0===n.format)n.format=Qs.default;else if(!Object.prototype.hasOwnProperty.call(Qs.formatters,n.format))throw new TypeError("Unknown format option provided.");var d,p,v=Qs.formatters[n.format];"function"==typeof n.filter?r=(p=n.filter)("",r):Array.isArray(n.filter)&&(d=p=n.filter);var m,g=[];if("object"!=typeof r||null===r)return"";m=n.arrayFormat in Ms?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var y=Ms[m];d||(d=Object.keys(r)),u&&d.sort(u);for(var b=0;b<d.length;++b){var R=d[b];o&&null===r[R]||(g=g.concat(Bs(r[R],R,y,a,o,s?c:null,p,u,f,l,v,h)))}var x=g.join(i),F=!0===n.addQueryPrefix?"?":"";return 0<x.length?F+x:""},zs=Ti(function(e,t,r){var n=1;if(r.length){var i=Io(r,To(zs));n|=32}return Jo(e,n,t,r,i)});zs.placeholder={};var $s=zs;var Js=function(r,e){return ns(r,e,function(e,t){return Ur(r,t)})},Ys=xi(function(e,t){return null==e?{}:Js(e,t)});var Gs=function(e,n){var i={};return n=Jr(n,3),Hi(e,function(e,t,r){dn(i,n(e,t,r),e)}),i};var Ks=function(e,n){var i={};return n=Jr(n,3),Hi(e,function(e,t,r){dn(i,t,n(e,t,r))}),i},Zs=Cs.encode;function Xs(e){return si(e)?Ks(e,Xs):Array.isArray(e)?Vi(e,Xs):Xi(e)?Zs(e):e}var ec=["dFR","fR","nR","hFR","tR"],tc=As.ENCODED_PARAMETERS;function rc(e,t,r,n){if(null!==e&&(r=r.replace(e,""),n=n.replace(e,"")),r=t[r]||r,n=t[n]||n,-1!==tc.indexOf(r)||-1!==tc.indexOf(n)){if("q"===r)return-1;if("q"===n)return 1;var i=-1!==ec.indexOf(r),a=-1!==ec.indexOf(n);if(i&&!a)return 1;if(a&&!i)return-1}return r.localeCompare(n)}var nc={getStateFromQueryString:function(e,t){var n=t&&t.prefix||"",r=t&&t.mapping||{},i=Es(r),a=qs(e),o=new RegExp("^"+n),s=Gs(a,function(e,t){var r=n&&o.test(t)?t.replace(o,""):t;return As.decode(i[r]||r)||r}),c=Ma._parseNumbers(s);return Ys(c,Ma.PARAMETERS)},getUnrecognizedParametersInQueryString:function(e,t){var r=t&&t.prefix,n=t&&t.mapping||{},i=Es(n),a={},o=qs(e);if(r){var s=new RegExp("^"+r);Li(o,function(e,t){s.test(t)||(a[t]=e)})}else Li(o,function(e,t){As.decode(i[t]||t)||(a[t]=e)});return a},getQueryStringFromState:function(e,t){var r=t&&t.moreAttributes,n=t&&t.prefix||"",i=t&&t.mapping||{},a=t&&t.safe||!1,o=Es(i),s=a?e:Xs(e),c=Gs(s,function(e,t){var r=As.encode(t);return n+(i[r]||r)}),u=""===n?null:new RegExp("^"+n),f=$s(rc,null,u,o);if(!fn(r)){var l=Ws(c,{encode:a,sort:f}),h=Ws(r,{encode:a});return l?l+"&"+h:h}return Ws(c,{encode:a,sort:f})}},ic="2.26.0";function ac(e,t,r){e.addAlgoliaAgent&&!cc(e)&&e.addAlgoliaAgent("JS Helper "+ic),this.setClient(e);var n=r||{};n.index=t,this.state=Ma.make(n),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function oc(e){if(e<0)throw new Error("Page requested below 0.");return this._change(this.state.setPage(e)),this}function sc(){return this.state.page}function cc(e){var t=e._ua;return!!t&&-1!==t.indexOf("JS Helper")}ms.inherits(ac,ys.EventEmitter),ac.prototype.search=function(){return this._search(),this},ac.prototype.getQuery=function(){var e=this.state;return Ps._getHitsSearchParams(e)},ac.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=Ps._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",r),!t)return this.client.search(n).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new ds(r,e.results),state:r,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e});this.client.search(n).then(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new ds(r,e.results),r)}).catch(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,r)})},ac.prototype.searchForFacetValues=function(t,e,r,n){var i=this.state.setQueryParameters(n||{}),a=i.isDisjunctiveFacet(t),o=Ps.getSearchForFacetQuery(t,e,r,i);this._currentNbQueries++;var s=this;return this.emit("searchForFacetValues",i,t,e),("function"==typeof this.client.searchForFacetValues?this.client.searchForFacetValues([{indexName:i.index,params:o}]):this.client.initIndex(i.index).searchForFacetValues(o)).then(function(e){return s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits=Li(e.facetHits,function(e){e.isRefined=a?i.isDisjunctiveFacetRefined(t,e.value):i.isFacetRefined(t,e.value)}),e},function(e){throw s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),e})},ac.prototype.setQuery=function(e){return this._change(this.state.setPage(0).setQuery(e)),this},ac.prototype.clearRefinements=function(e){return this._change(this.state.setPage(0).clearRefinements(e)),this},ac.prototype.clearTags=function(){return this._change(this.state.setPage(0).clearTags()),this},ac.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addDisjunctiveFacetRefinement(e,t)),this},ac.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},ac.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addHierarchicalFacetRefinement(e,t)),this},ac.prototype.addNumericRefinement=function(e,t,r){return this._change(this.state.setPage(0).addNumericRefinement(e,t,r)),this},ac.prototype.addFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addFacetRefinement(e,t)),this},ac.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},ac.prototype.addFacetExclusion=function(e,t){return this._change(this.state.setPage(0).addExcludeRefinement(e,t)),this},ac.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},ac.prototype.addTag=function(e){return this._change(this.state.setPage(0).addTagRefinement(e)),this},ac.prototype.removeNumericRefinement=function(e,t,r){return this._change(this.state.setPage(0).removeNumericRefinement(e,t,r)),this},ac.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change(this.state.setPage(0).removeDisjunctiveFacetRefinement(e,t)),this},ac.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},ac.prototype.removeHierarchicalFacetRefinement=function(e){return this._change(this.state.setPage(0).removeHierarchicalFacetRefinement(e)),this},ac.prototype.removeFacetRefinement=function(e,t){return this._change(this.state.setPage(0).removeFacetRefinement(e,t)),this},ac.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},ac.prototype.removeFacetExclusion=function(e,t){return this._change(this.state.setPage(0).removeExcludeRefinement(e,t)),this},ac.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},ac.prototype.removeTag=function(e){return this._change(this.state.setPage(0).removeTagRefinement(e)),this},ac.prototype.toggleFacetExclusion=function(e,t){return this._change(this.state.setPage(0).toggleExcludeFacetRefinement(e,t)),this},ac.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},ac.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},ac.prototype.toggleFacetRefinement=function(e,t){return this._change(this.state.setPage(0).toggleFacetRefinement(e,t)),this},ac.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},ac.prototype.toggleTag=function(e){return this._change(this.state.setPage(0).toggleTagRefinement(e)),this},ac.prototype.nextPage=function(){return this.setPage(this.state.page+1)},ac.prototype.previousPage=function(){return this.setPage(this.state.page-1)},ac.prototype.setCurrentPage=oc,ac.prototype.setPage=oc,ac.prototype.setIndex=function(e){return this._change(this.state.setPage(0).setIndex(e)),this},ac.prototype.setQueryParameter=function(e,t){return this._change(this.state.setPage(0).setQueryParameter(e,t)),this},ac.prototype.setState=function(e){return this._change(Ma.make(e)),this},ac.prototype.getState=function(e){return void 0===e?this.state:this.state.filter(e)},ac.prototype.getStateAsQueryString=function(e){var t=e&&e.filters||["query","attribute:*"],r=this.getState(t);return nc.getQueryStringFromState(r,e)},ac.getConfigurationFromQueryString=nc.getStateFromQueryString,ac.getForeignConfigurationInQueryString=nc.getUnrecognizedParametersInQueryString,ac.prototype.setStateFromQueryString=function(e,t){var r=t&&t.triggerChange||!1,n=nc.getStateFromQueryString(e,t),i=this.state.setQueryParameters(n);r?this.setState(i):this.overrideStateWithoutTriggeringChangeEvent(i)},ac.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new Ma(e),this},ac.prototype.isRefined=function(e,t){if(this.state.isConjunctiveFacet(e))return this.state.isFacetRefined(e,t);if(this.state.isDisjunctiveFacet(e))return this.state.isDisjunctiveFacetRefined(e,t);throw new Error(e+" is not properly defined in this helper configuration(use the facets or disjunctiveFacets keys to configure it)")},ac.prototype.hasRefinements=function(e){return!fn(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},ac.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},ac.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},ac.prototype.hasTag=function(e){return this.state.isTagRefined(e)},ac.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},ac.prototype.getIndex=function(){return this.state.index},ac.prototype.getCurrentPage=sc,ac.prototype.getPage=sc,ac.prototype.getTags=function(){return this.state.tagRefinements},ac.prototype.getQueryParameter=function(e){return this.state.getQueryParameter(e)},ac.prototype.getRefinements=function(e){var r=[];if(this.state.isConjunctiveFacet(e)){var t=this.state.getConjunctiveRefinements(e);Li(t,function(e){r.push({value:e,type:"conjunctive"})});var n=this.state.getExcludeRefinements(e);Li(n,function(e){r.push({value:e,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);Li(i,function(e){r.push({value:e,type:"disjunctive"})})}var a=this.state.getNumericRefinements(e);return Li(a,function(e,t){r.push({value:e,operator:t,type:"numeric"})}),r},ac.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},ac.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},ac.prototype._search=function(){var n=this.state,e=Ps._getQueries(n.index,n),i=[{state:n,queriesCount:e.length,helper:this}];this.emit("search",n,this.lastResults);var t=Vi(this.derivedHelpers,function(e){var t=e.getModifiedState(n),r=Ps._getQueries(t.index,t);return i.push({state:t,queriesCount:r.length,helper:e}),e.emit("search",t,e.lastResults),r}),r=e.concat(hi(t)),a=this._queryId++;this._currentNbQueries++;try{this.client.search(r).then(this._dispatchAlgoliaResponse.bind(this,i,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(e){this.emit("error",e)}},ac.prototype._dispatchAlgoliaResponse=function(e,t,r){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var o=r.results;Li(e,function(e){var t=e.state,r=e.queriesCount,n=e.helper,i=o.splice(0,r),a=n.lastResults=new ds(t,i);n.emit("result",a,t)})}},ac.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",t),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},ac.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},ac.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},ac.prototype._change=function(e){e!==this.state&&(this.state=e,this.emit("change",this.state,this.lastResults))},ac.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},ac.prototype.setClient=function(e){return this.client===e||(e.addAlgoliaAgent&&!cc(e)&&e.addAlgoliaAgent("JS Helper "+ic),this.client=e),this},ac.prototype.getClient=function(){return this.client},ac.prototype.derive=function(e){var t=new _s(this,e);return this.derivedHelpers.push(t),t},ac.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},ac.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries};var uc=ac;function fc(e,t,r){return new uc(e,t,r)}fc.version=ic,fc.AlgoliaSearchHelper=uc,fc.SearchParameters=Ma,fc.SearchResults=ds,fc.url=nc;var lc=fc,hc=lc.SearchParameters,dc=function(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=Object.prototype.hasOwnProperty,a=0;a<r.length;a++)if(!i.call(t,r[a])||e[r[a]]!==t[r[a]])return!1;return!0},pc=Promise.resolve(),vc=function(e){pc.then(e)};function mc(e){var t=e,r=[];return{getState:function(){return t},setState:function(e){t=e,r.forEach(function(e){return e()})},subscribe:function(e){return r.push(e),function(){r.splice(r.indexOf(e),1)}}}}var gc={highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"};function yc(e){var t=e.preTag,r=e.postTag,n=e.highlightedValue,i=(void 0===n?"":n).split(t),a=i.shift(),o=""===a?[]:[{value:a,isHighlighted:!1}];if(r===t){var s=!0;i.forEach(function(e){o.push({value:e,isHighlighted:s}),s=!s})}else i.forEach(function(e){var t=e.split(r);o.push({value:t[0],isHighlighted:!0}),""!==t[1]&&o.push({value:t[1],isHighlighted:!1})});return o}var bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Rc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xc(e){var i=e.indexName,t=e.initialState,r=void 0===t?{}:t,n=e.searchClient,a=e.resultsState,o=e.stalledSearchDelay,s=new hc(bc({index:i},gc)),c=null,u=lc(n,i,s);u.on("result",y),u.on("error",b),u.on("search",function(){c||(c=setTimeout(function(){var e=Fi(bc({},p.getState(),{isSearchStalled:!0}),"resultsFacetValues");p.setState(e)},o))});var f={},l={},h=u.state,d=function(e){var t=[],r=!1;function n(){r||(r=!0,vc(function(){r=!1,e()}))}return{registerWidget:function(e){return t.push(e),n(),function(){t.splice(t.indexOf(e),1),n()}},update:n,getWidgets:function(){return t}}}(function(){var e=m(p.getState().widgets);p.setState(bc({},p.getState(),{metadata:e,searching:!0})),g()}),p=mc({widgets:r,metadata:[],results:a||null,error:null,searching:!1,isSearchStalled:!0,searchingForFacetValues:!1}),v=!1;function m(t){return d.getWidgets().filter(function(e){return Boolean(e.getMetadata)}).map(function(e){return e.getMetadata(t)})}function g(){if(!v){var e=function(){l={};var e=d.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return!(e.context.multiIndexContext||e.props.indexName!==i&&e.props.indexName)}).reduce(function(e,t){return t.getSearchParameters(e)},h);l[e.index]=i;var t=d.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return e.context.multiIndexContext&&e.context.multiIndexContext.targetedIndex!==i||e.props.indexName&&e.props.indexName!==i}).reduce(function(e,t){var r=t.context.multiIndexContext?t.context.multiIndexContext.targetedIndex:t.props.indexName,n=cn(e,function(e){return e.targetedIndex===r});return n?n.widgets.push(t):e.push({targetedIndex:r,widgets:[t]}),e},[]),r=d.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return e.context.multiIndexContext&&e.context.multiIndexContext.targetedIndex===i||e.props.indexName&&e.props.indexName===i}).reduce(function(e,t){return t.getSearchParameters(e)},e);return l[r.index]=i,{sharedParameters:e,mainIndexParameters:r,derivatedWidgets:t}}(u.state),n=e.sharedParameters,t=e.mainIndexParameters,r=e.derivatedWidgets;Object.keys(f).forEach(function(e){return f[e].detach()}),f={},u.setState(n),r.forEach(function(t){var r=t.targetedIndex,e=u.derive(function(){var e=t.widgets.reduce(function(e,t){return t.getSearchParameters(e)},n);return l[e.index]=r,e});e.on("result",y),e.on("error",b),f[r]=e}),u.setState(t),u.search()}}function y(e){var t=p.getState(),r=t.results?t.results:{};r=!fn(f)&&r.getFacetByName?{}:r,fn(f)?r=e:r[l[e.index]]=e;var n=p.getState(),i=n.isSearchStalled;u.hasPendingRequests()||(clearTimeout(c),c=null,i=!1);var a=Fi(bc({},n,{results:r,isSearchStalled:i,searching:!1,error:null}),"resultsFacetValues");p.setState(a)}function b(e){var t=p.getState(),r=t.isSearchStalled;u.hasPendingRequests()||(clearTimeout(c),r=!1);var n=Fi(bc({},t,{isSearchStalled:r,error:e,searching:!1}),"resultsFacetValues");p.setState(n)}return{store:p,widgetsManager:d,getWidgetsIds:function(){return p.getState().metadata.reduce(function(e,t){return void 0!==t.id?e.concat(t.id):e},[])},onExternalStateUpdate:function(e){var t=m(e);p.setState(bc({},p.getState(),{widgets:e,metadata:t,searching:!0})),g()},transitionState:function(e){var r=p.getState().widgets;return d.getWidgets().filter(function(e){return Boolean(e.transitionState)}).reduce(function(e,t){return t.transitionState(r,e)},e)},onSearchForFacetValues:function(e){var r=e.facetName,n=e.query,t=e.maxFacetHits;p.setState(bc({},p.getState(),{searchingForFacetValues:!0})),u.searchForFacetValues(r,n,t).then(function(e){var t;p.setState(bc({},p.getState(),{resultsFacetValues:bc({},p.getState().resultsFacetValues,(t={},Rc(t,r,e.facetHits),Rc(t,"query",n),t)),searchingForFacetValues:!1}))},function(e){p.setState(bc({},p.getState(),{error:e,searchingForFacetValues:!1}))}).catch(function(e){setTimeout(function(){throw e})})},updateClient:function(e){u.setClient(e),g()},updateIndex:function(e){h=h.setIndex(e),g()},clearCache:function(){u.clearCache(),g()},skipSearch:function(){v=!0}}}var Fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jc=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var Pc=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Fc(t))&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.isControlled=Boolean(e.searchState);var r=t.isControlled?e.searchState:{};return t.isUnmounting=!1,t.aisManager=xc({indexName:e.indexName,searchClient:e.searchClient,initialState:r,resultsState:e.resultsState,stalledSearchDelay:e.stalledSearchDelay}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Fc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,v.Component),jc(n,[{key:"componentWillReceiveProps",value:function(e){!function(e,t){if(!e.searchState&&t.searchState)throw new Error("You can't switch <InstantSearch> from being uncontrolled to controlled");if(e.searchState&&!t.searchState)throw new Error("You can't switch <InstantSearch> from being controlled to uncontrolled")}(this.props,e),this.props.indexName!==e.indexName&&this.aisManager.updateIndex(e.indexName),this.props.refresh!==e.refresh&&e.refresh&&this.aisManager.clearCache(),this.props.searchClient!==e.searchClient&&this.aisManager.updateClient(e.searchClient),this.isControlled&&this.aisManager.onExternalStateUpdate(e.searchState)}},{key:"componentWillUnmount",value:function(){this.isUnmounting=!0,this.aisManager.skipSearch()}},{key:"getChildContext",value:function(){return this._aisContextCache||(this._aisContextCache={ais:{onInternalStateUpdate:this.onWidgetsInternalStateUpdate.bind(this),createHrefForState:this.createHrefForState.bind(this),onSearchForFacetValues:this.onSearchForFacetValues.bind(this),onSearchStateChange:this.onSearchStateChange.bind(this),onSearchParameters:this.onSearchParameters.bind(this)}}),{ais:_c({},this._aisContextCache.ais,{store:this.aisManager.store,widgetsManager:this.aisManager.widgetsManager,mainTargetedIndex:this.props.indexName})}}},{key:"createHrefForState",value:function(e){return e=this.aisManager.transitionState(e),this.isControlled&&this.props.createURL?this.props.createURL(e,this.getKnownKeys()):"#"}},{key:"onWidgetsInternalStateUpdate",value:function(e){e=this.aisManager.transitionState(e),this.onSearchStateChange(e),this.isControlled||this.aisManager.onExternalStateUpdate(e)}},{key:"onSearchStateChange",value:function(e){this.props.onSearchStateChange&&!this.isUnmounting&&this.props.onSearchStateChange(e)}},{key:"onSearchParameters",value:function(e,t,r){if(this.props.onSearchParameters){var n=this.props.searchState?this.props.searchState:{};this.props.onSearchParameters(e,t,r,n)}}},{key:"onSearchForFacetValues",value:function(e){this.aisManager.onSearchForFacetValues(e)}},{key:"getKnownKeys",value:function(){return this.aisManager.getWidgetsIds()}},{key:"render",value:function(){var e=v.Children.count(this.props.children),t=this.props.root,r=t.Root,n=t.props;return 0===e?null:m.createElement(r,n,this.props.children)}}]),n}();Pc.defaultProps={stalledSearchDelay:200},Pc.propTypes={indexName:M.string.isRequired,searchClient:M.object.isRequired,createURL:M.func,refresh:M.bool.isRequired,searchState:M.object,onSearchStateChange:M.func,onSearchParameters:M.func,resultsState:M.oneOfType([M.object,M.array]),children:M.node,root:M.shape({Root:M.oneOfType([M.string,M.func]),props:M.object}).isRequired,stalledSearchDelay:M.number},Pc.childContextTypes={ais:M.object.isRequired};var wc=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();var Sc=function(e){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Fc(t))&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e)),n=t.ais.widgetsManager;return r.unregisterWidget=n.registerWidget(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Fc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,v.Component),wc(i,[{key:"componentWillMount",value:function(){this.context.ais.onSearchParameters(this.getSearchParameters,this.getChildContext(),this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.indexName!==e.indexName&&this.context.ais.widgetsManager.update()}},{key:"componentWillUnmount",value:function(){this.unregisterWidget()}},{key:"getChildContext",value:function(){return{multiIndexContext:{targetedIndex:this.props.indexName}}}},{key:"getSearchParameters",value:function(e,t){return e.setIndex(this.props?this.props.indexName:t.indexName)}},{key:"render",value:function(){var e=v.Children.count(this.props.children),t=this.props.root,r=t.Root,n=t.props;return 0===e?null:m.createElement(r,n,this.props.children)}}]),i}();Sc.propTypes={indexName:M.string.isRequired,children:M.node,root:M.shape({Root:M.oneOfType([M.string,M.func]),props:M.object}).isRequired},Sc.childContextTypes={multiIndexContext:M.object.isRequired},Sc.contextTypes={ais:M.object.isRequired};var Oc=Object.prototype.hasOwnProperty;var Ec=function(e,t){return null!=e&&Oc.call(e,t)};var Tc=function(e,t){return null!=e&&kr(e,t,Ec)},Nc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ac=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function Cc(f){if(!f.displayName)throw new Error("`createConnector` requires you to provide a `displayName` property.");var i=Tc(f,"refine"),a=Tc(f,"searchForFacetValues"),c=Tc(f,"getSearchParameters"),u=Tc(f,"getMetadata"),l=Tc(f,"transitionState"),h=Tc(f,"cleanUp"),d=Tc(f,"shouldComponentUpdate"),p=c||u||l;return function(r){var e,t,s,n;return t=e=function(e){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":Fc(t))&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t));s.call(r);var n=t.ais,i=n.store,a=n.widgetsManager;return r.state={props:r.getProvidedProps(Nc({},e,{canRender:!1})),canRender:!1},r.unsubscribe=i.subscribe(function(){r.state.canRender&&r.setState({props:r.getProvidedProps(Nc({},r.props,{canRender:r.state.canRender}))})}),p&&(r.unregisterWidget=a.registerWidget(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Fc(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,v.Component),Ac(o,[{key:"getMetadata",value:function(e){return u?f.getMetadata.call(this,this.props,e):{}}},{key:"getSearchParameters",value:function(e){return c?f.getSearchParameters.call(this,e,this.props,this.context.ais.store.getState().widgets):null}},{key:"transitionState",value:function(e,t){return l?f.transitionState.call(this,this.props,e,t):t}},{key:"componentDidMount",value:function(){this.setState({canRender:!0})}},{key:"componentWillMount",value:function(){f.getSearchParameters&&this.context.ais.onSearchParameters(f.getSearchParameters,this.context,this.props)}},{key:"componentWillReceiveProps",value:function(e){Ki(this.props,e)||(this.setState({props:this.getProvidedProps(e)}),p&&(this.context.ais.widgetsManager.update(),f.transitionState&&this.context.ais.onSearchStateChange(f.transitionState.call(this,e,this.context.ais.store.getState().widgets,this.context.ais.store.getState().widgets))))}},{key:"componentWillUnmount",value:function(){if(this.unsubscribe(),p&&(this.unregisterWidget(),h)){var e=f.cleanUp.call(this,this.props,this.context.ais.store.getState().widgets);this.context.ais.store.setState(Nc({},this.context.ais.store.getState(),{widgets:e})),this.context.ais.onSearchStateChange(function r(n){return Object.keys(n).forEach(function(e){var t=n[e];fn(t)&&si(t)?delete n[e]:si(t)&&r(t)}),n}(e))}}},{key:"shouldComponentUpdate",value:function(e,t){if(d)return f.shouldComponentUpdate.call(this,this.props,e,this.state,t);var r=dc(this.props,e);return null===this.state.props||null===t.props?this.state.props!==t.props||!r:!r||!dc(this.state.props,t.props)}},{key:"render",value:function(){if(null===this.state.props)return null;var e=i?{refine:this.refine,createURL:this.createURL}:{},t=a?{searchForItems:this.searchForFacetValues}:{};return m.createElement(r,Nc({},this.props,this.state.props,e,t))}}]),o}(),e.displayName=f.displayName+"("+((n=r).displayName||n.name||"UnknownComponent")+")",e.defaultClassNames=r.defaultClassNames,e.propTypes=f.propTypes,e.defaultProps=f.defaultProps,e.contextTypes={ais:M.object.isRequired,multiIndexContext:M.object},s=function(){var u=this;this.getProvidedProps=function(e){var t=u.context.ais.store.getState(),r=t.results,n=t.searching,i=t.error,a=t.widgets,o=t.metadata,s=t.resultsFacetValues,c={results:r,searching:n,error:i,searchingForFacetValues:t.searchingForFacetValues,isSearchStalled:t.isSearchStalled};return f.getProvidedProps.call(u,e,a,c,o,s)},this.refine=function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];u.context.ais.onInternalStateUpdate((e=f.refine).call.apply(e,[u,u.props,u.context.ais.store.getState().widgets].concat(r)))},this.searchForFacetValues=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];u.context.ais.onSearchForFacetValues(f.searchForFacetValues.apply(f,[u.props,u.context.ais.store.getState().widgets].concat(t)))},this.createURL=function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return u.context.ais.createHrefForState((e=f.refine).call.apply(e,[u,u.props,u.context.ais.store.getState().widgets].concat(r)))},this.cleanUp=function(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=f.cleanUp).call.apply(e,[u].concat(r))}},t}}var Ic=function(e,t,r,n){var i=-1,a=wi,o=!0,s=e.length,c=[],u=t.length;if(!s)return c;r&&(t=Tr(t,Tt(r))),n?(a=Si,o=!1):200<=t.length&&(a=et,o=!1,t=new Ze(t));e:for(;++i<s;){var f=e[i],l=null==r?f:r(f);if(f=n||0!==f?f:0,o&&l==l){for(var h=u;h--;)if(t[h]===l)continue e;c.push(f)}else a(t,l,n)||c.push(f)}return c},Hc=Ti(function(e,t){return Ni(e)?Ic(e,li(t,1,Ni,!0)):[]}),Qc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Mc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dc(e){return e&&e.multiIndexContext?e.multiIndexContext.targetedIndex:e.ais.mainTargetedIndex}function Lc(e,t){return e.results&&!e.results.hits?e.results[Dc(t)]?e.results[Dc(t)]:null:e.results?e.results:null}function Bc(e){return e&&e.multiIndexContext}function kc(t,e,r,n,i){return Bc(r)?i?(p=t,v=e,m=n,g=i,b=Dc(r),R=m?{page:1}:void 0,x=Tc(p,"indices."+b)?Qc({},p.indices,Mc({},b,Qc({},p.indices[b],(Mc(y={},g,Qc({},p.indices[b][g],v)),Mc(y,"page",1),y)))):Qc({},p.indices,Mc({},b,Qc(Mc({},g,v),R))),Qc({},p,{indices:x})):(u=t,f=e,l=n?{page:1}:void 0,h=Dc(r),d=Tc(u,"indices."+h)?Qc({},u.indices,Mc({},h,Qc({},u.indices[h],f,l))):Qc({},u.indices,Mc({},h,Qc({},f,l))),Qc({},u,{indices:d})):(t.indices&&n&&Object.keys(t.indices).forEach(function(e){t=kc(t,{page:1},{multiIndexContext:{targetedIndex:e}},!0,i)}),i?(o=e,c=n?{page:1}:void 0,Qc({},a=t,Mc({},s=i,Qc({},a[s],o)),c)):Qc({},t,e,n?{page:1}:void 0));var a,o,s,c,u,f,l,h,d,p,v,m,g,y,b,R,x}function Uc(e){var t=e.match(/^([^.]*)\.(.*)/);return{namespace:t&&t[1],attributeName:t&&t[2]}}function Vc(e,t,r,n,i){var a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:function(e){return e},o=Dc(r),s=Uc(n),c=s.namespace,u=s.attributeName;if(Bc(r)&&t.indices&&c&&t.indices[""+o]&&Tc(t.indices[""+o][c],""+u)||Bc(r)&&t.indices&&Tc(t,"indices."+o+"."+n)||!Bc(r)&&c&&Tc(t[c],u)||!Bc(r)&&Tc(t,n)){return a(Bc(r)?c?Lr(t.indices[""+o][c],u):Lr(t.indices[o],n):c?Lr(t[c],u):Lr(t,n))}return e.defaultRefinement?e.defaultRefinement:i}function qc(e,t,r){var n=Dc(t),i=Uc(r),a=i.namespace,o=i.attributeName;return Bc(t)&&Boolean(e.indices)?function(e){var t=e.searchState,r=e.indexName,n=e.id,i=e.namespace,a=e.attribute,o=t.indices[r];if(i&&o)return Qc({},t,{indices:Qc({},t.indices,Mc({},r,Qc({},o,Mc({},i,Fi(o[i],a)))))});return Fi(t,"indices."+r+"."+n)}({attribute:o,searchState:e,indexName:n,id:r,namespace:a}):function(e){var t=e.searchState,r=e.id,n=e.namespace,i=e.attribute;if(n)return Qc({},t,Mc({},n,Fi(t[n],i)));return Fi(t,r)}({attribute:o,searchState:e,id:r,namespace:a})}var Wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function zc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $c=Cc({displayName:"AlgoliaConfigure",getProvidedProps:function(){return{}},getSearchParameters:function(e,t){var r=Fi(t,"children");return e.setQueryParameters(r)},transitionState:function(e,t,r){var n=Fi(e,"children"),i=this._props?Hc(Vt(this._props),Vt(e)):[];return this._props=e,kc(r,zc({},"configure",Wc({},Fi(r.configure,i),n)),this.context)},cleanUp:function(r,e){var n="configure",t=Dc(this.context),i=Bc(this.context)&&e.indices?e.indices[t]:e,a=(i&&i[n]?Object.keys(i[n]):[]).reduce(function(e,t){return r[t]||(e[t]=i[n][t]),e},{});return kc(e,zc({},n,a),this.context)}});$c(function(){return null});function Jc(e,t,r){return Vc(e,t,r,"query","",function(e){return e||""})}function Yc(r){return r.results?r.results.hits&&Array.isArray(r.results.hits)?r.results.hits:Object.keys(r.results).reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e),[{index:t,hits:r.results[t].hits}])},[]):[]}function Gc(e,t,r,n){var i,a,o;return kc(t,(o=r,(a="query")in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0)}var Kc=Cc({displayName:"AlgoliaAutoComplete",getProvidedProps:function(e,t,r){return{hits:Yc(r),currentRefinement:Jc(e,t,this.context)}},refine:function(e,t,r){return Gc(0,t,r,this.context)},cleanUp:function(e,t){return r=t,n=this.context,qc(r,n,"query");var r,n},getSearchParameters:function(e,t,r){return e.setQuery(Jc(t,r,this.context))}});var Zc=function(e){return e.attributes[0]};function Xc(e,t,r,n){var i,a,o,s=Zc(e);return kc(t,(o=r||"",(a=s)in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,"hierarchicalMenu")}var eu=Cc({displayName:"AlgoliaBreadcrumb",propTypes:{attributes:function(e,t,r){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop "+t+" supplied to "+r+". Expected an Array of Strings")},transformItems:M.func},getProvidedProps:function(e,t,r){var n=Zc(e),i=Lc(r,this.context);if(!(Boolean(i)&&Boolean(i.getFacetByName(n))))return{items:[],canRefine:!1};var a=i.getFacetValues(n),o=a.data?function r(e){return e.reduce(function(e,t){return t.isRefined&&(e.push({label:t.name,value:t.path}),t.data&&(e=e.concat(r(t.data)))),e},[])}(a.data):[],s=e.transformItems?e.transformItems(o):o;return{canRefine:0<s.length,items:s}},refine:function(e,t,r){return Xc(e,t,r,this.context)}}),tu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru=Cc({displayName:"AlgoliaCurrentRefinements",propTypes:{transformItems:M.func},getProvidedProps:function(r,e,t,n){var i=n.reduce(function(e,t){return void 0!==t.items&&(r.clearsQuery||"query"!==t.id)?r.clearsQuery&&"query"===t.id&&""===t.items[0].currentRefinement?e:e.concat(t.items.map(function(e){return tu({},e,{id:t.id,index:t.index})})):e},[]);return{items:r.transformItems?r.transformItems(i):i,canRefine:0<i.length}},refine:function(e,t,r){return(r instanceof Array?r.map(function(e){return e.value}):[r]).reduce(function(e,t){return t(e)},t)}});var nu=function(e){return[e.northEast.lat,e.northEast.lng,e.southWest.lat,e.southWest.lng].join()},iu=/^(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)$/,au=function(e){var t=e.match(iu);return{lat:parseFloat(t[1]),lng:parseFloat(t[2])}},ou=function(e,t,r){var n=Vc(e,t,r,"boundingBox",{});if(!fn(n))return{northEast:{lat:parseFloat(n.northEast.lat),lng:parseFloat(n.northEast.lng)},southWest:{lat:parseFloat(n.southWest.lat),lng:parseFloat(n.southWest.lng)}}},su=function(e,t,r){e.defaultRefinement;var n=function(e,t){var r={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["defaultRefinement"]),i=Vc(n,t,r,"aroundLatLng");if(!i){var a=Vc(n,t,r,"configure.aroundLatLng");return a&&au(a)}return i},cu=function(e,t,r){var n,i,a;return kc(e,(a=t,(i="boundingBox")in(n={})?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n),r,!0)},uu=Cc({displayName:"AlgoliaGeoSearch",getProvidedProps:function(e,t,r){var n,i,a=Lc(r,this.context),o=ou(e,t,this.context),s=a&&a._state.insideBoundingBox&&(n=a._state.insideBoundingBox,i=n.split(","),{northEast:{lat:parseFloat(i[0]),lng:parseFloat(i[1])},southWest:{lat:parseFloat(i[2]),lng:parseFloat(i[3])}})||void 0,c=su(e,t,this.context),u=a&&a._state.aroundLatLng&&au(a._state.aroundLatLng)||void 0,f=o||s,l=c||u;return{hits:a?a.hits.filter(function(e){return Boolean(e._geoloc)}):[],isRefinedWithMap:Boolean(f),currentRefinement:f,position:l}},refine:function(e,t,r){return cu(t,r,this.context)},getSearchParameters:function(e,t,r){var n=ou(t,r,this.context);return n?e.setQueryParameter("insideBoundingBox",nu(n)):e},cleanUp:function(e,t){return qc(t,this.context,"boundingBox")},getMetadata:function(e,t){var r=this,n=[],i="boundingBox",a=Dc(this.context),o={},s=ou(e,t,this.context);return s&&n.push({label:i+": "+nu(s),value:function(e){return cu(e,o,r.context)},currentRefinement:s}),{id:i,index:a,items:n}},shouldComponentUpdate:function(){return!0}}),fu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var lu=function(e){return e.attributes[0]},hu="hierarchicalMenu";function du(e,t,r){return Vc(e,t,r,hu+"."+lu(e),null,function(e){return""===e?null:e})}function pu(e,l,h,d){return e.map(function(e){return{label:e.name,value:(t=e.path,r=l,n=h,i=d,a=r.id,o=r.attributes,s=r.separator,c=r.rootPath,u=r.showParentLevel,f=du(r,n,i),null===f?t:new hc({hierarchicalFacets:[{name:a,attributes:o,separator:s,rootPath:c,showParentLevel:u}]}).toggleHierarchicalFacetRefinement(a,f).toggleHierarchicalFacetRefinement(a,t).getHierarchicalRefinement(a)[0]),count:e.count,isRefined:e.isRefined,items:e.data&&pu(e.data,l,h,d)};var t,r,n,i,a,o,s,c,u,f})}function vu(e,t,r,n){var i,a,o,s=lu(e);return kc(t,(o=r||"",(a=s)in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,hu)}var mu=["name:asc"],gu=Cc({displayName:"AlgoliaHierarchicalMenu",propTypes:{attributes:function(e,t,r){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop "+t+" supplied to "+r+". Expected an Array of Strings")},separator:M.string,rootPath:M.string,showParentLevel:M.bool,defaultRefinement:M.string,showMore:M.bool,limit:M.number,showMoreLimit:M.number,transformItems:M.func},defaultProps:{showMore:!1,limit:10,showMoreLimit:20,separator:" > ",rootPath:null,showParentLevel:!0},getProvidedProps:function(e,t,r){var n=e.showMore,i=e.limit,a=e.showMoreLimit,o=lu(e),s=Lc(r,this.context);if(!(Boolean(s)&&Boolean(s.getFacetByName(o))))return{items:[],currentRefinement:du(e,t,this.context),canRefine:!1};var c=n?a:i,u=s.getFacetValues(o,{sortBy:mu}),f=u.data?pu(u.data,e,t,this.context):[];return{items:function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return e.slice(0,r).map(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e.items)?fu({},e,{items:t(e.items,r)}):e})}(e.transformItems?e.transformItems(f):f,c),currentRefinement:du(e,t,this.context),canRefine:0<f.length}},refine:function(e,t,r){return vu(e,t,r,this.context)},cleanUp:function(e,t){return r=e,n=t,i=this.context,qc(n,i,hu+"."+lu(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attributes,i=t.separator,a=t.rootPath,o=t.showParentLevel,s=t.showMore,c=t.limit,u=t.showMoreLimit,f=lu(t),l=s?u:c;e=e.addHierarchicalFacet({name:f,attributes:n,separator:i,rootPath:a,showParentLevel:o}).setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,l)});var h=du(t,r,this.context);return null!==h&&(e=e.toggleHierarchicalFacetRefinement(f,h)),e},getMetadata:function(t,e){var r=this,n=t.attributes[0],i=lu(t),a=du(t,e,this.context);return{id:i,index:Dc(this.context),items:a?[{label:n+": "+a,attribute:n,value:function(e){return vu(t,e,"",r.context)},currentRefinement:a}]:[]}}}),yu=function(e){var t=e.attribute,r=e.hit,n=e.highlightProperty,i=e.preTag,a=void 0===i?gc.highlightPreTag:i,o=e.postTag;return function(e){var t=e.preTag,r=void 0===t?"<em>":t,n=e.postTag,i=void 0===n?"</em>":n,a=e.highlightProperty,o=e.attribute,s=e.hit;if(!s)throw new Error("`hit`, the matching record, must be provided");var c=Lr(s[a],o,{});return Array.isArray(c)?c.map(function(e){return yc({preTag:r,postTag:i,highlightedValue:e.value})}):yc({preTag:r,postTag:i,highlightedValue:c.value})}({attribute:t,highlightProperty:n,hit:r,preTag:a,postTag:void 0===o?gc.highlightPostTag:o})},bu=Cc({displayName:"AlgoliaHighlighter",propTypes:{},getProvidedProps:function(){return{highlight:yu}}}),Ru=Cc({displayName:"AlgoliaHits",getProvidedProps:function(e,t,r){var n=Lc(r,this.context);return{hits:n?n.hits:[]}},getSearchParameters:function(e){return e}}),xu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function Fu(e,t,r){return Vc(e,t,r,"hitsPerPage",null,function(e){return"string"==typeof e?parseInt(e,10):e})}var _u=Cc({displayName:"AlgoliaHitsPerPage",propTypes:{defaultRefinement:M.number.isRequired,items:M.arrayOf(M.shape({label:M.string,value:M.number.isRequired})).isRequired,transformItems:M.func},getProvidedProps:function(e,t){var r=Fu(e,t,this.context),n=e.items.map(function(e){return e.value===r?xu({},e,{isRefined:!0}):xu({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(n):n,currentRefinement:r}},refine:function(e,t,r){var n,i,a;return kc(t,(a=r,(i="hitsPerPage")in(n={})?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n),this.context,!0)},cleanUp:function(e,t){return qc(t,this.context,"hitsPerPage")},getSearchParameters:function(e,t,r){return e.setHitsPerPage(Fu(t,r,this.context))},getMetadata:function(){return{id:"hitsPerPage"}}});function ju(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function Pu(e,t,r){return Vc(e,t,r,"page",1,function(e){return"string"==typeof e&&(e=parseInt(e,10)),e})}var wu=Cc({displayName:"AlgoliaInfiniteHits",getProvidedProps:function(e,t,r){var n=Lc(r,this.context);if(this._allResults=this._allResults||[],this._previousPage=this._previousPage||0,!n)return{hits:[],hasMore:!1};var i=n.hits,a=n.page,o=n.nbPages;0===a?this._allResults=i:a>this._previousPage?this._allResults=[].concat(ju(this._allResults),ju(i)):a<this._previousPage&&(this._allResults=i);var s=a<o-1;return this._previousPage=a,{hits:this._allResults,hasMore:s}},getSearchParameters:function(e,t,r){return e.setQueryParameters({page:Pu(t,r,this.context)-1})},refine:function(e,t){var r,n,i,a=Pu(e,t,this.context)+1;return kc(t,(i=a,(n="page")in(r={})?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r),this.context,!1)}});var Su="menu";function Ou(e){return e.attribute}function Eu(e,t,r){return Vc(e,t,r,Su+"."+Ou(e),null,function(e){return""===e?null:e})}function Tu(e,t,r,n){return e===Eu(t,r,n)?"":e}function Nu(e){var t=e.showMore,r=e.limit,n=e.showMoreLimit;return t?n:r}function Au(e,t,r,n){var i,a,o,s=Ou(e);return kc(t,(o=r||"",(a=s)in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,Su)}var Cu=["count:desc","name:asc"],Iu=Cc({displayName:"AlgoliaMenu",propTypes:{attribute:M.string.isRequired,showMore:M.bool,limit:M.number,showMoreLimit:M.number,defaultRefinement:M.string,transformItems:M.func,searchable:M.bool},defaultProps:{showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(t,r,e,n,i){var a=this,o=t.attribute,s=t.searchable,c=Lc(e,this.context),u=Boolean(c)&&Boolean(c.getFacetByName(o)),f=Boolean(i&&i[o]&&""!==i.query);if(s&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!u)return{items:[],currentRefinement:Eu(t,r,this.context),isFromSearch:f,searchable:s,canRefine:u};var l=f?i[o].map(function(e){return{label:e.value,value:Tu(e.value,t,r,a.context),_highlightResult:{label:{value:e.highlighted}},count:e.count,isRefined:e.isRefined}}):c.getFacetValues(o,{sortBy:Cu}).map(function(e){return{label:e.name,value:Tu(e.name,t,r,a.context),count:e.count,isRefined:e.isRefined}}),h=s&&!f?Ya(l,["isRefined","count","label"],["desc","desc","asc"]):l;return{items:(t.transformItems?t.transformItems(h):h).slice(0,Nu(t)),currentRefinement:Eu(t,r,this.context),isFromSearch:f,searchable:s,canRefine:0<l.length}},refine:function(e,t,r){return Au(e,t,r,this.context)},searchForFacetValues:function(e,t,r){return{facetName:e.attribute,query:r,maxFacetHits:Nu(e)}},cleanUp:function(e,t){return r=e,n=t,i=this.context,qc(n,i,Su+"."+Ou(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attribute;e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,Nu(t))})).addDisjunctiveFacet(n);var i=Eu(t,r,this.context);return null!==i&&(e=e.addDisjunctiveFacetRefinement(n,i)),e},getMetadata:function(t,e){var r=this,n=Ou(t),i=Eu(t,e,this.context);return{id:n,index:Dc(this.context),items:null===i?[]:[{label:t.attribute+": "+i,attribute:t.attribute,value:function(e){return Au(t,e,"",r.context)},currentRefinement:i}]}}}),Hu=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Qu(e){return void 0===e.start&&void 0===e.end?"":(e.start?e.start:"")+":"+(e.end?e.end:"")}var Mu="multiRange";function Du(e){return e.attribute}function Lu(e,t,r){return Vc(e,t,r,Mu+"."+Du(e),"",function(e){return""===e?"":e})}function Bu(e,t,r,n){var i,a,o;return kc(t,(i={},a=Du(e),o=r,a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,Mu)}var ku=Cc({displayName:"AlgoliaNumericMenu",propTypes:{id:M.string,attribute:M.string.isRequired,items:M.arrayOf(M.shape({label:M.node,start:M.number,end:M.number})).isRequired,transformItems:M.func},getProvidedProps:function(v,e,t){var r=v.attribute,m=Lu(v,e,this.context),g=Lc(t,this.context),n=v.items.map(function(e){var t,r,n,i,a,o,s,c,u,f,l,h,d,p=Qu(e);return{label:e.label,value:p,isRefined:p===m,noRefinement:!!g&&(t=Du(v),r=g,n=p,f=r.getFacetByName(t)?r.getFacetStats(t):null,l=n.split(":"),h=0===Number(l[0])||""===n?Number.NEGATIVE_INFINITY:Number(l[0]),d=0===Number(l[1])||""===n?Number.POSITIVE_INFINITY:Number(l[1]),!(Boolean(f)&&(c=h,u=d,(s=f).min>c&&s.min<u||s.max>c&&s.max<u||(o=d,(a=h)>(i=f).min&&a<i.max||o>i.min&&o<i.max))))}}),i=g&&g.getFacetByName(r)?g.getFacetStats(r):null,a=cn(n,function(e){return!0===e.isRefined});return n.some(function(e){return""===e.value})||n.push({value:"",isRefined:fn(a),noRefinement:!i,label:"All"}),{items:v.transformItems?v.transformItems(n):n,currentRefinement:m,canRefine:0<n.length&&n.some(function(e){return!1===e.noRefinement})}},refine:function(e,t,r){return Bu(e,t,r,this.context)},cleanUp:function(e,t){return r=e,n=t,i=this.context,qc(n,i,Mu+"."+Du(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attribute,i=function(e){if(0===e.length)return{start:null,end:null};var t=e.split(":"),r=Hu(t,2),n=r[0],i=r[1];return{start:0<n.length?parseInt(n,10):null,end:0<i.length?parseInt(i,10):null}}(Lu(t,r,this.context)),a=i.start,o=i.end;return e=e.addDisjunctiveFacet(n),a&&(e=e.addNumericRefinement(n,">=",a)),o&&(e=e.addNumericRefinement(n,"<=",o)),e},getMetadata:function(t,e){var r=this,n=Du(t),i=Lu(t,e,this.context),a=[],o=Dc(this.context);if(""!==i){var s=cn(t.items,function(e){return Qu(e)===i}).label;a.push({label:t.attribute+": "+s,attribute:t.attribute,currentRefinement:s,value:function(e){return Bu(t,e,"",r.context)}})}return{id:n,index:o,items:a}}});function Uu(e,t,r){return Vc(e,t,r,"page",1,function(e){return"string"==typeof e?parseInt(e,10):e})}function Vu(e,t,r,n){var i,a,o;return kc(t,(o=r,(a="page")in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!1)}var qu=Cc({displayName:"AlgoliaPagination",getProvidedProps:function(e,t,r){var n=Lc(r,this.context);if(!n)return null;var i=n.nbPages;return{nbPages:i,currentRefinement:Uu(e,t,this.context),canRefine:1<i}},refine:function(e,t,r){return Vu(0,t,r,this.context)},cleanUp:function(e,t){return qc(t,this.context,"page")},getSearchParameters:function(e,t,r){return e.setPage(Uu(t,r,this.context)-1)},getMetadata:function(){return{id:"page"}}}),Wu=Cc({displayName:"AlgoliaPoweredBy",propTypes:{},getProvidedProps:function(e){return{url:"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&utm_content="+(e.canRender?location.hostname:"")+"&utm_campaign=poweredby"}}}),zu=ee.isFinite;var $u=function(e){return"number"==typeof e&&zu(e)};function Ju(e){return e.attribute}var Yu="range";function Gu(o,e,t,r){var n=Vc(o,e,r,Yu+"."+Ju(o),{},function(e){var t=e.min,r=e.max,n=Boolean(o.precision),i=t;"string"==typeof i&&(i=n?parseFloat(i):parseInt(i,10));var a=r;return"string"==typeof a&&(a=n?parseFloat(a):parseInt(a,10)),{min:i,max:a}}),i=void 0!==o.min,a=void 0!==o.max,s=void 0!==n.min,c=void 0!==n.max;if(i&&s&&n.min<t.min)throw Error("You can't provide min value lower than range.");if(a&&c&&n.max>t.max)throw Error("You can't provide max value greater than range.");return i&&!s&&(n.min=t.min),a&&!c&&(n.max=t.max),n}function Ku(e,t){return{min:void 0!==e.min?e.min:t.min,max:void 0!==e.max?e.max:t.max}}function Zu(e,t,r,n){return e||r!==n?e&&t?r:n:void 0}function Xu(e,t,r,n,i){var a=r.min,o=r.max,s=n.min,c=n.max,u=void 0===a||""===a,f=void 0===o||""===o,l=u?void 0:parseFloat(a),h=f?void 0:parseFloat(o),d=u||$u(l),p=f||$u(h);if(!d||!p)throw Error("You can't provide non finite values to the range connector.");if(l<s)throw Error("You can't provide min value lower than range.");if(c<h)throw Error("You can't provide max value greater than range.");var v,m,g,y=Ju(e);return kc(t,(v={},m=y,g={min:Zu(void 0!==e.min,u,s,l),max:Zu(void 0!==e.max,f,c,h)},m in v?Object.defineProperty(v,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[m]=g,v),i,!0,Yu)}var ef=Cc({displayName:"AlgoliaRange",propTypes:{id:M.string,attribute:M.string.isRequired,defaultRefinement:M.shape({min:M.number,max:M.number}),min:M.number,max:M.number,precision:M.number,header:M.node,footer:M.node},defaultProps:{precision:0},getProvidedProps:function(e,t,r){var n=e.attribute,i=e.precision,a=e.min,o=e.max,s=Lc(r,this.context),c=s&&s.getFacetByName(n),u=c&&s.getFacetStats(n)||{},f=(c?s.getFacetValues(n):[]).map(function(e){return{value:e.name,count:e.count}}),l=function(e,t,r){var n=Math.pow(10,r),i=void 0;i=$u(e.min)?e.min:$u(t.min)?t.min:void 0;var a=void 0;return a=$u(e.max)?e.max:$u(t.max)?t.max:void 0,{min:void 0!==i?Math.floor(i*n)/n:i,max:void 0!==a?Math.ceil(a*n)/n:a}}({min:a,max:o},u,i),h=l.min,d=l.max;this._currentRange={min:h,max:d};var p=Gu(e,t,this._currentRange,this.context);return{min:h,max:d,canRefine:0<f.length,currentRefinement:Ku(p,this._currentRange),count:f,precision:i}},refine:function(e,t,r){return Xu(e,t,r,this._currentRange,this.context)},cleanUp:function(e,t){return r=e,n=t,i=this.context,qc(n,i,Yu+"."+Ju(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attribute,i=Gu(t,r,this._currentRange,this.context),a=i.min,o=i.max;return e=e.addDisjunctiveFacet(n),void 0!==a&&(e=e.addNumericRefinement(n,">=",a)),void 0!==o&&(e=e.addNumericRefinement(n,"<=",o)),e},getMetadata:function(t,e){var r=this,n=this._currentRange,i=n.min,a=n.max,o=Gu(t,e,this._currentRange,this.context),s=o.min,c=o.max,u=[],f=void 0!==s,l=void 0!==c;if(f&&s!==i||l&&c!==a){var h=[f?s+" <= ":"",t.attribute,l?" <= "+c:""];u.push({label:h.join(""),attribute:t.attribute,value:function(e){return Xu(t,e,{},r._currentRange,r.context)},currentRefinement:Ku({min:s,max:c},{min:i,max:a})})}return{id:Ju(t),index:Dc(this.context),items:u}}});var tf="refinementList";function rf(e){return e.attribute}function nf(e,t,r){return Vc(e,t,r,tf+"."+rf(e),[],function(e){return"string"==typeof e?""===e?[]:[e]:e})}function af(t,e,r,n){var i=nf(e,r,n);return-1===i.indexOf(t)?i.concat([t]):i.filter(function(e){return e!==t})}function of(e){var t=e.showMore,r=e.limit,n=e.showMoreLimit;return t?n:r}function sf(e,t,r,n){var i,a,o,s=rf(e);return kc(t,(i={},a=s,o=0<r.length?r:"",a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,tf)}var cf=["isRefined","count:desc","name:asc"],uf=Cc({displayName:"AlgoliaRefinementList",propTypes:{id:M.string,attribute:M.string.isRequired,operator:M.oneOf(["and","or"]),showMore:M.bool,limit:M.number,showMoreLimit:M.number,defaultRefinement:M.arrayOf(M.oneOfType([M.string,M.number])),searchable:M.bool,transformItems:M.func},defaultProps:{operator:"or",showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(t,r,e,n,i){var a=this,o=t.attribute,s=t.searchable,c=Lc(e,this.context),u=Boolean(c)&&Boolean(c.getFacetByName(o)),f=Boolean(i&&i[o]&&""!==i.query);if(s&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!u)return{items:[],currentRefinement:nf(t,r,this.context),canRefine:u,isFromSearch:f,searchable:s};var l=f?i[o].map(function(e){return{label:e.value,value:af(e.value,t,r,a.context),_highlightResult:{label:{value:e.highlighted}},count:e.count,isRefined:e.isRefined}}):c.getFacetValues(o,{sortBy:cf}).map(function(e){return{label:e.name,value:af(e.name,t,r,a.context),count:e.count,isRefined:e.isRefined}});return{items:(t.transformItems?t.transformItems(l):l).slice(0,of(t)),currentRefinement:nf(t,r,this.context),isFromSearch:f,searchable:s,canRefine:0<l.length}},refine:function(e,t,r){return sf(e,t,r,this.context)},searchForFacetValues:function(e,t,r){return{facetName:e.attribute,query:r,maxFacetHits:of(e)}},cleanUp:function(e,t){return r=e,n=t,i=this.context,qc(n,i,tf+"."+rf(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attribute,i="and"===t.operator?"addFacet":"addDisjunctiveFacet",a=i+"Refinement";return e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,of(t))}))[i](n),nf(t,r,this.context).reduce(function(e,t){return e[a](n,t)},e)},getMetadata:function(n,i){var e=rf(n),a=this.context;return{id:e,index:Dc(this.context),items:0<nf(n,i,a).length?[{attribute:n.attribute,label:n.attribute+": ",currentRefinement:nf(n,i,a),value:function(e){return sf(n,e,[],a)},items:nf(n,i,a).map(function(r){return{label:""+r,value:function(e){var t=nf(n,e,a).filter(function(e){return e!==r});return sf(n,i,t,a)}}})}]:[]}}}),ff=Cc({displayName:"AlgoliaScrollTo",propTypes:{scrollOn:M.string},defaultProps:{scrollOn:"page"},getProvidedProps:function(e,t){var r=e.scrollOn,n=Vc(e,t,this.context,r,null,function(e){return e});if(this._prevSearchState||(this._prevSearchState={}),Bc(this.context)){var i=Dc(this.context);t=t.indices?t.indices[i]:{}}var a=Fi(Fi(t,"configure"),r),o=dc(this._prevSearchState,a);return this._prevSearchState=a,{value:n,hasNotChanged:o}}});function lf(e,t,r){return Vc(e,t,r,"query","",function(e){return e||""})}function hf(e,t,r,n){var i,a,o;return kc(t,(o=r,(a="query")in(i={})?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0)}var df=Cc({displayName:"AlgoliaSearchBox",propTypes:{defaultRefinement:M.string},getProvidedProps:function(e,t,r){return{currentRefinement:lf(e,t,this.context),isSearchStalled:r.isSearchStalled}},refine:function(e,t,r){return hf(0,t,r,this.context)},cleanUp:function(e,t){return r=t,n=this.context,qc(r,n,"query");var r,n},getSearchParameters:function(e,t,r){return e.setQuery(lf(t,r,this.context))},getMetadata:function(e,t){var r=this,n=lf(e,t,this.context);return{id:"query",index:Dc(this.context),items:null===n?[]:[{label:"query: "+n,value:function(e){return hf(0,e,"",r.context)},currentRefinement:n}]}}}),pf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function vf(e,t,r){return Vc(e,t,r,"sortBy",null,function(e){return e||null})}var mf=Cc({displayName:"AlgoliaSortBy",propTypes:{defaultRefinement:M.string,items:M.arrayOf(M.shape({label:M.string,value:M.string.isRequired})).isRequired,transformItems:M.func},getProvidedProps:function(e,t){var r=vf(e,t,this.context),n=e.items.map(function(e){return e.value===r?pf({},e,{isRefined:!0}):pf({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(n):n,currentRefinement:r}},refine:function(e,t,r){var n,i,a;return kc(t,(a=r,(i="sortBy")in(n={})?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n),this.context,!0)},cleanUp:function(e,t){return qc(t,this.context,"sortBy")},getSearchParameters:function(e,t,r){var n=vf(t,r,this.context);return e.setIndex(n)},getMetadata:function(){return{id:"sortBy"}}}),gf=Cc({displayName:"AlgoliaStateResults",getProvidedProps:function(e,t,r){return{searchState:t,searchResults:Lc(r,this.context),allSearchResults:r.results,searching:r.searching,isSearchStalled:r.isSearchStalled,error:r.error,searchingForFacetValues:r.searchingForFacetValues,props:e}}}),yf=Cc({displayName:"AlgoliaStats",getProvidedProps:function(e,t,r){var n=Lc(r,this.context);return n?{nbHits:n.nbHits,processingTimeMS:n.processingTimeMS}:null}});function bf(e){return e.attribute}var Rf="toggle";function xf(e,t,r){return Vc(e,t,r,Rf+"."+bf(e),!1,function(e){return e||!1})}function Ff(e,t,r,n){var i,a,o,s=bf(e);return kc(t,(i={},o=r||!1,(a=s)in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i),n,!0,Rf)}var _f=Cc({displayName:"AlgoliaToggle",propTypes:{label:M.string,filter:M.func,attribute:M.string,value:M.any,defaultRefinement:M.bool},getProvidedProps:function(e,t){return{currentRefinement:xf(e,t,this.context)}},refine:function(e,t,r){return Ff(e,t,r,this.context)},cleanUp:function(e,t){return r=e,n=t,i=this.context,qc(n,i,Rf+"."+bf(r));var r,n,i},getSearchParameters:function(e,t,r){var n=t.attribute,i=t.value,a=t.filter;return xf(t,r,this.context)&&(n&&(e=e.addFacet(n).addFacetRefinement(n,i)),a&&(e=a(e))),e},getMetadata:function(t,e){var r=this,n=bf(t),i=xf(t,e,this.context),a=[],o=Dc(this.context);return i&&a.push({label:t.label,currentRefinement:i,attribute:t.attribute,value:function(e){return Ff(t,e,!1,r.context)}}),{id:n,index:o,items:a}}});e.connectAutoComplete=Kc,e.connectBreadcrumb=eu,e.connectConfigure=$c,e.connectCurrentRefinements=ru,e.connectGeoSearch=uu,e.connectHierarchicalMenu=gu,e.connectHighlight=bu,e.connectHits=Ru,e.connectHitsPerPage=_u,e.connectInfiniteHits=wu,e.connectMenu=Iu,e.connectNumericMenu=ku,e.connectPagination=qu,e.connectPoweredBy=Wu,e.connectRange=ef,e.connectRefinementList=uf,e.connectScrollTo=ff,e.connectSearchBox=df,e.connectSortBy=mf,e.connectStateResults=gf,e.connectStats=yf,e.connectToggleRefinement=_f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=Connectors.min.js.map
